ID,Severity,Area,Steps to Reproduce,Expected vs Actual,Suspected Cause,Fix Proposal,Est. Effort,Owner,Status
BUG-001,P0,Payments,"Trigger a successful Stripe test payment; observe webhook logs","Expected: booking confirmed once; Actual: risk of duplicate processing on retries","No idempotency store for webhook events","Create webhook_events table with unique(event_id); upsert before processing; make handler idempotent",0.5d,Payments,Open
BUG-002,P0,Payments,"Check Supabase secrets list","Expected: STRIPE_WEBHOOK_SECRET present; Actual: missing","Secret not configured in Supabase","Add STRIPE_WEBHOOK_SECRET in Supabase Functions settings; verify signature",0.25d,DevOps,Open
BUG-003,P1,Database,"Update a record and inspect timestamps","Expected: updated_at auto-updates; Actual: manual","No generic trigger to maintain updated_at","Add update_updated_at trigger across tables (bookings, payments, profiles, etc.)",0.5d,Backend,Open
BUG-004,P1,Database,"Query bookings by user and date","Expected: fast queries; Actual: potential scans","Missing composite indexes","Add indexes: bookings(user_id, created_at), payments(booking_id, created_at)",0.5d,Backend,Open
BUG-005,P1,SEO,"Audit head tags per route","Expected: title/meta/canonical; Actual: inconsistent","No per-route SEO helper","Add SEO utility and ensure each route sets title/meta/canonical",1d,Frontend,Open
BUG-006,P1,Performance,"Run Lighthouse on Home/Search","Expected: optimized images; Actual: large LCP","Large hero images/attributes","Convert to modern formats, add width/height, lazyload; Netlify caching headers",1d,Frontend,Open
BUG-007,P1,Reliability,"Force error in route","Expected: graceful fallback; Actual: blank/console errors","No global/route error boundaries","Add ErrorBoundary wrapper and route-level boundaries",0.5d,Frontend,Open
BUG-008,P1,Observability,"Check runtime logs in prod","Expected: traceable errors; Actual: limited visibility","No Sentry/correlation IDs","Integrate Sentry (FE + Edge), propagate x-request-id",1d,Platform,Open
BUG-009,P2,Payments,"Initiate refund/cancel","Expected: lifecycle updates; Actual: manual/incomplete","No refund webhook handlers","Extend webhook to handle refund events; update DB + notify user",1d,Payments,Open
BUG-010,P2,API Resilience,"Simulate 429/5xx from suppliers","Expected: retries/backoff/timeouts; Actual: inconsistent","Ad-hoc fetch logic","Create shared API client with standardized policies and zod validation",1.5d,Backend,Open
BUG-011,P2,Analytics,"Walk the funnel","Expected: tracked events; Actual: sparse","No agreed event schema","Define schema and instrument search/select/checkout/confirmation",1d,Frontend,Open
BUG-012,P2,Accessibility,"Keyboard through checkout","Expected: fully operable; Actual: gaps","ARIA/labels/focus states missing in places","Audit Radix components and add labels/roles; ensure focus ring",1d,Frontend,Open
BUG-013,P3,i18n,"Scan copy","Expected: externalized strings; Actual: inline","No i18n scaffold","Introduce i18n library scaffolding behind a flag",2d,Frontend,Open
BUG-014,P3,PWA,"Offline support","Expected: basic offline; Actual: none","No service worker","Add service worker for caching critical routes behind a flag",1d,Frontend,Open
