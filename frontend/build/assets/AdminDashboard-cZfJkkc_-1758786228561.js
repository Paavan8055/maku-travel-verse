import{r as l,j as e,i as g,k as C,l as v,S as b,t as f,B as N,L as T,ad as G,I as k,aj as n,a7 as D,K as E}from"./index-BuFvfeSJ-1758786228561.js";import{T as O}from"./textarea-Uko5zEQl-1758786228561.js";import{L as y}from"./label-DYU-yWis-1758786228561.js";import{S as H,a as P,b as R,c as $,d as z}from"./select-D-JCiAP4-1758786228561.js";import{C as A}from"./copy-CvoKMbcO-1758786228561.js";import"./index-BdQq_4o_-1758786228561.js";import"./index-CJWzJC_R-1758786228561.js";const B=()=>{const[r,i]=l.useState(""),[o,w]=l.useState({}),[m,p]=l.useState(!1),[c,u]=l.useState(""),[S,h]=l.useState(!1),d=[{value:"generate-destination",label:"Generate Destination Guide",fields:["destination"]},{value:"create-itinerary",label:"Create Itinerary",fields:["destination","days"]},{value:"generate-hotel-desc",label:"Generate Hotel Description",fields:["hotelName","location"]},{value:"travel-tips",label:"Travel Tips",fields:["destination"]},{value:"test-prompt",label:"Test Custom Prompt",fields:["prompt"]}],x=(t,s)=>{w(a=>({...a,[t]:s}))},F=async()=>{if(!r){n.error("Please select an operation");return}const t=d.find(a=>a.value===r),s=(t==null?void 0:t.fields.filter(a=>!o[a]))||[];if(s.length>0){n.error(`Please fill in: ${s.join(", ")}`);return}p(!0),u("");try{const{data:a,error:j}=await D.functions.invoke("gemini-cli-operations",{body:{operation:r,data:o}});if(j)throw j;if(a.success)u(a.content),n.success("Content generated successfully!");else throw new Error(a.error)}catch(a){console.error("Error calling Gemini CLI:",a),n.error("Failed to generate content")}finally{p(!1)}},I=async()=>{try{await navigator.clipboard.writeText(c),h(!0),n.success("Copied to clipboard!"),setTimeout(()=>h(!1),2e3)}catch{n.error("Failed to copy to clipboard")}},L=()=>{const t=d.find(s=>s.value===r);return t?t.fields.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:s,className:"capitalize",children:s==="hotelName"?"Hotel Name":s==="days"?"Number of Days":s}),s==="prompt"?e.jsx(O,{id:s,placeholder:`Enter your custom ${s}...`,value:o[s]||"",onChange:a=>x(s,a.target.value),rows:3}):e.jsx(k,{id:s,placeholder:`Enter ${s}...`,value:o[s]||"",onChange:a=>x(s,a.target.value),type:s==="days"?"number":"text"})]},s)):null};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Gemini CLI Operations"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"operation",children:"Operation"}),e.jsxs(H,{value:r,onValueChange:i,children:[e.jsx(P,{children:e.jsx(R,{placeholder:"Select an operation..."})}),e.jsx($,{children:d.map(t=>e.jsx(z,{value:t.value,children:t.label},t.value))})]})]}),L(),e.jsx(N,{onClick:F,disabled:m||!r,className:"w-full",children:m?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Generate Content"]})})]})]}),c&&e.jsxs(g,{children:[e.jsxs(C,{className:"flex flex-row items-center justify-between",children:[e.jsx(v,{children:"Generated Content"}),e.jsx(N,{variant:"outline",size:"sm",onClick:I,className:"flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4"}),"Copy"]})})]}),e.jsx(f,{children:e.jsx("div",{className:"bg-muted p-4 rounded-lg",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:c})})})]})]})},W=()=>{const i=E().pathname.includes("/testing");return e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),i?e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Gemini CLI Testing"}),e.jsx(B,{})]}):e.jsx("p",{className:"text-muted-foreground",children:"Navigate to operations/testing to use Gemini CLI tools."})]})})};export{W as default};
