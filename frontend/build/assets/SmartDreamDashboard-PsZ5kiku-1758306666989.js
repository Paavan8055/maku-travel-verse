import{c as te,h as be,i as Me,r as u,l as le,j as e,a as c,e as d,t as M,b as j,P as E,f as D,g as T,B as v}from"./index-B3Fp9pX--1758306666989.js";import{I as De}from"./input-gxAYQHDZ-1758306666989.js";import{T as ne,a as ce,b as y,c as k}from"./tabs-BQzk1UoC-1758306666989.js";import{gamificationService as A}from"./gamification-service-C5Buy_38-1758306666989.js";import{T as _}from"./trophy-DwRd3tlL-1758306666989.js";import{M as W}from"./map-pin-L_b8NZ8E-1758306666989.js";import{G as pe}from"./globe-uf-f7S_H-1758306666989.js";import{A as Z}from"./award-umc6Pd3q-1758306666989.js";import{T as B}from"./target-B-fdJCvR-1758306666989.js";import{S as U}from"./star-DtKHcpYT-1758306666989.js";import{U as S}from"./users-Bzs_S0Lp-1758306666989.js";import{C as ee}from"./calendar-BIklBwwn-1758306666989.js";import{T as oe}from"./trending-up-92MsR2-B-1758306666989.js";import{L as Te}from"./lock-DRd08aeS-1758306666989.js";import{C as Q}from"./crown-C5zQE3KK-1758306666989.js";import{A as xe,a as me,b as he}from"./avatar-BCbV9Dde-1758306666989.js";import{T as Le}from"./trending-down-COFXmXFv-1758306666989.js";import{M as Ie}from"./minus-BFltv1hs-1758306666989.js";import{H as O}from"./heart-DoA8VUd8-1758306666989.js";import{M as Ee}from"./message-circle-CpMaIK3f-1758306666989.js";import{S as de}from"./share-2-Bj3wh0lr-1758306666989.js";import{U as Pe}from"./user-plus-D2Y7optp-1758306666989.js";import{Z as $e}from"./zap-00v8vOLg-1758306666989.js";import{C as ie}from"./clock-B3ieI8fd-1758306666989.js";import{C as je}from"./circle-check-big-CPeSnizQ-1758306666989.js";import{T as ze,I as Be,P as Re,J as Fe}from"./JourneyOptimizerCard-DBEcsW-l-1758306666989.js";import{u as Ue}from"./useEnhancedDreams-C167X3XX-1758306666989.js";import{u as Ge}from"./useAIIntelligence-B2Y6V1q0-1758306666989.js";import{B as H}from"./brain-BfchdcfF-1758306666989.js";import{M as Je}from"./map-INLCKcIc-1758306666989.js";import{P as Ye}from"./play-CDXNFZW5-1758306666989.js";import{S as ge}from"./sparkles-D7BECtQx-1758306666989.js";import{U as He}from"./user-C6EycpeA-1758306666989.js";import"./index-CHGESzl9-1758306666989.js";import"./activity-DBl9Dl5K-1758306666989.js";import"./select-DF3cN7sJ-1758306666989.js";import"./index-BdQq_4o_-1758306666989.js";import"./index-BE2b4OId-1758306666989.js";import"./chevron-down-D_uW2xTS-1758306666989.js";import"./search-BfxTySCt-1758306666989.js";import"./lightbulb-IcjuAcTq-1758306666989.js";import"./external-link-6-kWtwr0-1758306666989.js";import"./dollar-sign-mBArCau1-1758306666989.js";import"./arrow-right-DfaGkO12-1758306666989.js";import"./plus-BSDt1uJ7-1758306666989.js";import"./plane-BVAw7XPq-1758306666989.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=te("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=te("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),We=()=>{const{user:s}=be(),{toast:n}=Me(),[t,o]=u.useState(null),[a,g]=u.useState([]),[x,l]=u.useState([]),[r,C]=u.useState([]),[h,I]=u.useState([]),[b,L]=u.useState([]),[P,R]=u.useState(null),[G,p]=u.useState(null),[J,X]=u.useState(!0),[Y,K]=u.useState(null),F=u.useCallback(async()=>{if(s!=null&&s.id)try{X(!0),K(null);const[m,N,f,z,V,Ce,Ae,Se]=await Promise.all([A.getUserGameStats(s.id),A.getUserAchievements(s.id),A.getLeaderboards(["global","weekly","friends"]),A.getSocialConnections(s.id),A.getSocialActivityFeed(s.id,20),A.getChallenges(s.id),A.getDreamCollectionStats(s.id),A.getSocialInsights(s.id)]);o(m),g(N),l(f),C(z),I(V),L(Ce),R(Ae),p(Se)}catch(m){const N=m instanceof Error?m.message:"Failed to fetch gamification data";K(N),le.error("Error fetching gamification data:",m)}finally{X(!1)}},[s==null?void 0:s.id]),ae=u.useCallback(async(m,N)=>{if(!(s!=null&&s.id))return null;try{const f=await A.checkAchievements(s.id,m,N);if(f.newly_unlocked.length>0){f.newly_unlocked.forEach(V=>{n({title:"🏆 Achievement Unlocked!",description:`${V.name}: ${V.description}`,duration:5e3})});const z=await A.getUserAchievements(s.id);g(z)}if(f.points_earned>0&&n({title:"✨ Points Earned!",description:`You earned ${f.points_earned} points!`,duration:3e3}),f.level_up){n({title:"🎉 Level Up!",description:`Welcome to Level ${f.level_up.new_level}!`,duration:6e3});const z=await A.getUserGameStats(s.id);o(z)}return f}catch(f){return le.error("Error checking achievements:",f),null}},[s==null?void 0:s.id,n]),i=u.useCallback(async m=>{if(!(s!=null&&s.id))return n({title:"Authentication Required",description:"Please log in to join challenges.",variant:"destructive"}),!1;try{const N=await A.joinChallenge(s.id,m);if(N.success){n({title:"Challenge Joined!",description:N.message});const f=await A.getChallenges(s.id);return L(f),await A.trackGameEvent(s.id,{event_type:"challenge_joined",event_data:{challenge_id:m},timestamp:new Date,user_context:{current_level:(t==null?void 0:t.level)||1,current_points:(t==null?void 0:t.total_points)||0,active_challenges:b.filter(z=>z.is_participating).map(z=>z.id)}}),!0}else return n({title:"Failed to Join Challenge",description:N.message,variant:"destructive"}),!1}catch{return n({title:"Error",description:"Failed to join challenge. Please try again.",variant:"destructive"}),!1}},[s==null?void 0:s.id,t,b,n]),w=u.useCallback(async(m,N)=>{if(s!=null&&s.id)try{await A.trackGameEvent(s.id,{event_type:m,event_data:N,timestamp:new Date,user_context:{current_level:(t==null?void 0:t.level)||1,current_points:(t==null?void 0:t.total_points)||0,active_challenges:b.filter(f=>f.is_participating).map(f=>f.id)}})}catch(f){le.error("Error tracking game event:",f)}},[s==null?void 0:s.id,t,b]),$=u.useCallback(()=>{if(!t)return{current:0,next:0,progress:0};const m=(t.level-1)*1e3,N=t.level*1e3,f=(t.total_points-m)/(N-m)*100;return{current:m,next:N,progress:Math.min(Math.max(f,0),100)}},[t]),re=u.useCallback(m=>m?a.filter(N=>N.category===m):a,[a]),ve=u.useCallback(()=>a.filter(m=>m.unlocked),[a]),we=u.useCallback(()=>a.filter(m=>!m.unlocked),[a]),ye=u.useCallback(()=>{const m=new Date(Date.now()-6048e5);return a.filter(N=>N.unlocked&&N.unlocked_at&&new Date(N.unlocked_at)>m)},[a]),ke=u.useCallback(()=>b.filter(m=>m.status==="active"&&m.is_participating),[b]),_e=u.useCallback(()=>b.filter(m=>m.status==="active"&&!m.is_participating),[b]);return u.useEffect(()=>{s!=null&&s.id&&F()},[s==null?void 0:s.id,F]),u.useEffect(()=>{if(!(s!=null&&s.id))return;const m=setInterval(()=>{F()},5*60*1e3);return()=>clearInterval(m)},[s==null?void 0:s.id,F]),{userStats:t,achievements:a,leaderboards:x,socialConnections:r,socialActivity:h,challenges:b,collectionStats:P,socialInsights:G,loading:J,error:Y,checkAchievements:ae,joinChallenge:i,trackGameEvent:w,refetch:F,levelProgress:$(),unlockedAchievements:ve(),availableAchievements:we(),recentAchievements:ye(),activeChallenges:ke(),availableChallenges:_e(),getAchievementsByCategory:re}},Ze=({stats:s,levelProgress:n,compact:t=!1})=>{const o=x=>x>=30?"text-purple-600 bg-purple-50 border-purple-200":x>=14?"text-blue-600 bg-blue-50 border-blue-200":x>=7?"text-green-600 bg-green-50 border-green-200":x>=3?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-gray-600 bg-gray-50 border-gray-200",g=(x=>x<=10?{icon:"👑",text:"Elite",color:"bg-gradient-to-r from-yellow-400 to-orange-500"}:x<=100?{icon:"🏆",text:"Expert",color:"bg-gradient-to-r from-blue-400 to-purple-500"}:x<=1e3?{icon:"⭐",text:"Rising",color:"bg-gradient-to-r from-green-400 to-blue-500"}:{icon:"🎯",text:"Explorer",color:"bg-gradient-to-r from-gray-400 to-gray-500"})(s.exploration_rank);return t?e.jsx(c,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:M("flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",g.color),children:s.level}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Level ",s.level]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.total_points.toLocaleString()," points"]})]})]}),e.jsxs(j,{className:M("border",o(s.current_streak)),children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),s.current_streak]})]}),e.jsx(E,{value:n.progress,className:"h-2 mb-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[Math.round(n.progress),"% to Level ",s.level+1]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(c,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5",children:[e.jsx(D,{className:"pb-3",children:e.jsxs(T,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:M("flex items-center justify-center w-12 h-12 rounded-full text-white text-lg font-bold",g.color),children:s.level}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-bold",children:["Level ",s.level]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.text," Explorer"]})]})]}),e.jsxs(j,{variant:"outline",className:"bg-background/50",children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"#",s.exploration_rank.toLocaleString()]})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:s.total_points.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Level Progress"}),e.jsxs("span",{children:[Math.round(n.progress),"%"]})]}),e.jsx(E,{value:n.progress,className:"h-3"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-center",children:[(n.next-s.total_points).toLocaleString()," points to Level ",s.level+1]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(W,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-2xl font-bold",children:s.destinations_collected}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dreams"}),e.jsx(E,{value:Math.min(s.destinations_collected/100*100,100),className:"h-1 mt-2"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(pe,{className:"h-6 w-6 mx-auto mb-2 text-accent"}),e.jsx("div",{className:"text-2xl font-bold",children:s.continents_unlocked}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Continents"}),e.jsx(E,{value:s.continents_unlocked/7*100,className:"h-1 mt-2"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(Z,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),e.jsx("div",{className:"text-2xl font-bold",children:s.achievements_unlocked}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Achievements"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(se,{className:"h-6 w-6 mx-auto mb-2 text-orange-500"}),e.jsx("div",{className:"text-2xl font-bold",children:s.current_streak}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Day Streak"}),s.current_streak>0&&e.jsx(j,{className:M("mt-1 text-xs",o(s.current_streak)),children:"🔥 On Fire!"})]})})]}),e.jsxs(c,{children:[e.jsx(D,{children:e.jsxs(T,{className:"text-lg flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Category Progress"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(s.category_stats).map(([x,l])=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"capitalize font-medium",children:[x," (",l.count,")"]}),e.jsxs("span",{className:"text-muted-foreground",children:[l.completion_percentage,"% complete"]})]}),e.jsx(E,{value:l.completion_percentage,className:"h-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Avg rarity: ",l.average_rarity,"/100"]})]},x))})})]}),e.jsxs(c,{children:[e.jsx(D,{children:e.jsxs(T,{className:"text-lg flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Continental Explorer"]})}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.continent_progress).map(([x,l])=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium",children:x}),e.jsxs(j,{variant:"outline",className:"text-xs",children:[l.destinations_count," places"]})]}),e.jsx(E,{value:l.completion_percentage,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.completion_percentage,"% explored",l.rare_destinations_count>0&&e.jsxs("span",{className:"ml-2",children:["✨ ",l.rare_destinations_count," rare"]})]})]},x))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Rarity Score"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-600",children:s.rarity_score})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Based on rare destinations collected"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Social Score"})]}),e.jsx("div",{className:"text-xl font-bold text-blue-600",children:s.social_score})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Friends and social interactions"})]})})]}),e.jsx(c,{className:"border-muted bg-muted/30",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Longest Streak"}),e.jsxs("div",{className:"text-lg font-bold text-orange-500",children:[s.longest_streak," days"]})]}),e.jsxs("div",{children:[e.jsx(oe,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Last Activity"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.last_activity).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(_,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Global Rank"}),e.jsxs("div",{className:"text-lg font-bold text-primary",children:["#",s.exploration_rank.toLocaleString()]})]})]})})})]})},Qe=({achievement:s,onClick:n,size:t="md",showProgress:o=!0})=>{const a=r=>{switch(r){case"legendary":return"from-purple-500 to-pink-500 text-white border-purple-300";case"epic":return"from-blue-500 to-cyan-500 text-white border-blue-300";case"rare":return"from-green-500 to-emerald-500 text-white border-green-300";case"common":return"from-gray-400 to-gray-500 text-white border-gray-300";default:return"from-gray-400 to-gray-500 text-white border-gray-300"}},g=r=>{switch(r){case"legendary":return e.jsx(Q,{className:"h-4 w-4"});case"epic":return e.jsx(Oe,{className:"h-4 w-4"});case"rare":return e.jsx(U,{className:"h-4 w-4"});case"common":return e.jsx(_,{className:"h-4 w-4"});default:return e.jsx(_,{className:"h-4 w-4"})}},x=()=>{switch(t){case"sm":return"p-3";case"lg":return"p-6";default:return"p-4"}},l=()=>{switch(t){case"sm":return"text-sm";case"lg":return"text-lg";default:return"text-base"}};return e.jsx(c,{className:M("group cursor-pointer transition-all duration-300 hover:shadow-lg",s.unlocked?"border-primary/30 bg-gradient-to-br from-primary/5 to-accent/5":"border-muted bg-muted/30 opacity-75",n&&"hover:scale-105"),onClick:n,children:e.jsx(d,{className:x(),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:M("flex items-center justify-center rounded-lg w-12 h-12 bg-gradient-to-br shrink-0",a(s.rarity)),children:e.jsx("span",{className:"text-2xl",role:"img","aria-label":s.name,children:s.icon})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:M("font-semibold truncate",l()),children:s.name}),!s.unlocked&&e.jsx(Te,{className:"h-3 w-3 text-muted-foreground shrink-0"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:s.description}),o&&s.max_progress>1&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"/",s.max_progress]})]}),e.jsx(E,{value:s.progress/s.max_progress*100,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"outline",className:M("text-xs bg-gradient-to-r border",a(s.rarity)),children:[g(s.rarity),e.jsx("span",{className:"ml-1 capitalize",children:s.rarity})]}),e.jsx(j,{variant:"secondary",className:"text-xs capitalize",children:s.category})]}),e.jsxs("div",{className:"text-xs font-medium text-primary",children:[s.points_value," pts"]})]}),s.unlocked&&s.unlocked_at&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Unlocked ",new Date(s.unlocked_at).toLocaleDateString()]})]})]})})})},q=({achievements:s,onAchievementClick:n,maxDisplayed:t})=>{const o=t?s.slice(0,t):s;return s.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(_,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"No achievements to display"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.map(a=>e.jsx(Qe,{achievement:a,onClick:()=>n==null?void 0:n(a)},a.id)),t&&s.length>t&&e.jsx(c,{className:"border-dashed border-2 border-muted-foreground/20",children:e.jsx(d,{className:"p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsxs("div",{className:"text-2xl mb-2",children:["+",s.length-t]}),e.jsx("div",{className:"text-sm",children:"More achievements"})]})})})]})},Xe=({leaderboard:s,onViewAll:n,maxEntries:t=5})=>{const o=l=>{switch(l){case 1:return e.jsx(Q,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(ue,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(Z,{className:"h-5 w-5 text-amber-600"});default:return e.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",l]})}},a=l=>l>0?e.jsx(oe,{className:"h-3 w-3 text-green-500"}):l<0?e.jsx(Le,{className:"h-3 w-3 text-red-500"}):e.jsx(Ie,{className:"h-3 w-3 text-muted-foreground"}),g=l=>l>0?"text-green-600":l<0?"text-red-600":"text-muted-foreground",x=s.entries.slice(0,t);return e.jsxs(c,{children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(T,{className:"flex items-center gap-2 text-lg",children:[e.jsx(_,{className:"h-5 w-5 text-primary"}),s.name]}),e.jsxs(j,{variant:"outline",className:"text-xs",children:[e.jsx(S,{className:"h-3 w-3 mr-1"}),s.total_participants.toLocaleString()]})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs(d,{className:"space-y-3",children:[x.map((l,r)=>e.jsxs("div",{className:M("flex items-center justify-between p-3 rounded-lg border transition-colors",l.rank<=3?"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20":"bg-muted/30 border-muted"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:o(l.rank)}),e.jsxs(xe,{className:"h-8 w-8",children:[e.jsx(me,{src:l.avatar_url,alt:l.username}),e.jsx(he,{className:"text-xs",children:l.username.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium truncate",children:l.username}),l.specialization&&e.jsx(j,{variant:"secondary",className:"text-xs px-1 py-0",children:l.specialization})]}),l.badges&&l.badges.length>0&&e.jsxs("div",{className:"flex gap-1 mt-1",children:[l.badges.slice(0,3).map((C,h)=>e.jsx("span",{className:"text-xs",role:"img",children:C},h)),l.badges.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",l.badges.length-3]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-primary",children:l.score.toLocaleString()}),l.change_from_last_week!==0&&e.jsxs("div",{className:M("flex items-center gap-1 text-xs",g(l.change_from_last_week)),children:[a(l.change_from_last_week),e.jsx("span",{children:Math.abs(l.change_from_last_week)})]})]})]},l.user_id)),s.user_rank&&s.user_rank>t&&e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Your rank:"}),e.jsxs(j,{variant:"outline",children:["#",s.user_rank.toLocaleString()]})]})}),s.entries.length>t&&n&&e.jsx(v,{variant:"outline",className:"w-full mt-3",onClick:n,children:"View Full Leaderboard"}),e.jsx("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Updated ",new Date(s.updated_at).toLocaleDateString()]}),s.ends_at&&e.jsxs("span",{children:["Ends ",new Date(s.ends_at).toLocaleDateString()]})]})})]})]})},Ne=({entries:s,title:n="Top Players"})=>e.jsxs(c,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(T,{className:"text-base",children:n})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-2",children:s.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:Ke(t.rank)}),e.jsx("span",{className:"text-sm font-medium truncate",children:t.username})]}),e.jsx("div",{className:"text-sm font-bold text-primary",children:t.score.toLocaleString()})]},t.user_id))})})]}),Ke=s=>{switch(s){case 1:return e.jsx(Q,{className:"h-4 w-4 text-yellow-500"});case 2:return e.jsx(ue,{className:"h-4 w-4 text-gray-400"});case 3:return e.jsx(Z,{className:"h-4 w-4 text-amber-600"});default:return e.jsxs("span",{className:"text-xs font-bold text-muted-foreground",children:["#",s]})}},Ve=({activities:s,onLike:n,onComment:t,onShare:o,loading:a=!1})=>{const g=r=>{switch(r){case"destination_added":return e.jsx(W,{className:"h-4 w-4 text-blue-500"});case"achievement_unlocked":return e.jsx(_,{className:"h-4 w-4 text-yellow-500"});case"level_up":return e.jsx(oe,{className:"h-4 w-4 text-green-500"});case"friend_added":return e.jsx(Pe,{className:"h-4 w-4 text-purple-500"});case"challenge_completed":return e.jsx(B,{className:"h-4 w-4 text-orange-500"});case"trip_planned":return e.jsx(de,{className:"h-4 w-4 text-pink-500"});default:return e.jsx(S,{className:"h-4 w-4 text-gray-500"})}},x=r=>{const{activity_type:C,activity_data:h}=r;switch(C){case"destination_added":return`added ${h.destination_name} to their dream destinations`;case"achievement_unlocked":return`unlocked the "${h.achievement_name}" achievement`;case"level_up":return`reached Level ${h.level}`;case"friend_added":return`became travel buddies with ${h.friend_name}`;case"challenge_completed":return`completed the "${h.challenge_name}" challenge`;case"trip_planned":return`planned a trip to ${h.destination_name}`;default:return"had some travel activity"}},l=r=>{const h=Math.floor((new Date().getTime()-new Date(r).getTime())/1e3);return h<60?"just now":h<3600?`${Math.floor(h/60)}m ago`:h<86400?`${Math.floor(h/3600)}h ago`:h<604800?`${Math.floor(h/86400)}d ago`:new Date(r).toLocaleDateString()};return a?e.jsxs(c,{children:[e.jsx(D,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((r,C)=>e.jsxs("div",{className:"flex gap-3 animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},C))})})]}):s.length===0?e.jsxs(c,{children:[e.jsx(D,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with friends to see their travel activities here!"})]})})]}):e.jsxs(c,{children:[e.jsx(D,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:s.map(r=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(xe,{className:"h-10 w-10",children:[e.jsx(me,{src:r.avatar_url,alt:r.username}),e.jsx(he,{children:r.username.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("div",{className:"mt-1",children:g(r.activity_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:r.username})," ",e.jsx("span",{className:"text-muted-foreground",children:x(r)})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l(r.created_at)})]}),r.visibility!=="public"&&e.jsx(j,{variant:"outline",className:"text-xs",children:r.visibility})]}),r.activity_type==="destination_added"&&r.activity_data.destination_name&&e.jsx("div",{className:"ml-6 p-2 bg-muted/30 rounded-lg mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:r.activity_data.destination_name})]})}),r.activity_type==="achievement_unlocked"&&e.jsx("div",{className:"ml-6 p-2 bg-yellow-50 border border-yellow-200 rounded-lg mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-3 w-3 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:r.activity_data.achievement_name})]})}),e.jsxs("div",{className:"flex items-center gap-4 ml-6 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(v,{variant:"ghost",size:"sm",className:M("h-6 px-2 text-xs",r.is_liked_by_user?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-red-500"),onClick:()=>n==null?void 0:n(r.id),children:[e.jsx(O,{className:M("h-3 w-3 mr1",r.is_liked_by_user&&"fill-current")}),r.likes_count>0&&r.likes_count]}),e.jsxs(v,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground hover:text-blue-500",onClick:()=>t==null?void 0:t(r.id),children:[e.jsx(Ee,{className:"h-3 w-3 mr-1"}),r.comments_count>0&&r.comments_count]}),e.jsx(v,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground hover:text-green-500",onClick:()=>o==null?void 0:o(r.id),children:e.jsx(de,{className:"h-3 w-3"})})]})]})]}),s.indexOf(r)<s.length-1&&e.jsx("div",{className:"border-t border-muted mt-4"})]},r.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(v,{variant:"outline",size:"sm",children:"Load More Activities"})})]})]})},es=({activities:s,maxItems:n=3})=>{const t=s.slice(0,n);return t.length===0?e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(S,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})]})}):e.jsxs(c,{children:[e.jsx(D,{className:"pb-2",children:e.jsxs(T,{className:"text-base flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Recent Activity"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:t.map(o=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(xe,{className:"h-6 w-6",children:[e.jsx(me,{src:o.avatar_url,alt:o.username}),e.jsx(he,{className:"text-xs",children:o.username.slice(0,1).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[e.jsx("span",{className:"font-medium text-foreground",children:o.username})," ",ss(o)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ts(o.created_at)})]})]},o.id))})})]})},ss=s=>{const{activity_type:n,activity_data:t}=s;switch(n){case"destination_added":return`added ${t.destination_name}`;case"achievement_unlocked":return`unlocked "${t.achievement_name}"`;case"level_up":return`reached Level ${t.level}`;case"friend_added":return`added ${t.friend_name}`;case"challenge_completed":return`completed "${t.challenge_name}"`;case"trip_planned":return`planned trip to ${t.destination_name}`;default:return"had some activity"}},ts=s=>{const t=Math.floor((new Date().getTime()-new Date(s).getTime())/1e3);return t<60?"now":t<3600?`${Math.floor(t/60)}m`:t<86400?`${Math.floor(t/3600)}h`:`${Math.floor(t/86400)}d`},fe=({challenge:s,onJoin:n,onViewDetails:t,loading:o=!1})=>{const a=r=>{switch(r){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-orange-100 text-orange-800 border-orange-200";case"expert":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=r=>{switch(r){case"active":return"bg-green-100 text-green-800 border-green-200";case"upcoming":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"expired":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=()=>{const r=new Date,h=new Date(s.ends_at).getTime()-r.getTime();if(h<=0)return"Expired";const I=Math.floor(h/(1e3*60*60*24)),b=Math.floor(h%(1e3*60*60*24)/(1e3*60*60));return I>0?`${I}d ${b}h left`:b>0?`${b}h left`:"Ending soon"},l=s.target_value>0?Math.min(s.current_progress/s.target_value*100,100):0;return e.jsxs(c,{className:M("group cursor-pointer transition-all duration-300 hover:shadow-lg",s.is_participating&&"border-primary/30 bg-gradient-to-br from-primary/5 to-accent/5"),children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-lg mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]}),e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-br from-primary to-accent text-white shrink-0",children:e.jsx(B,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.jsxs(j,{className:M("border",g(s.status)),children:[s.status==="active"&&e.jsx($e,{className:"h-3 w-3 mr-1"}),s.status==="upcoming"&&e.jsx(ie,{className:"h-3 w-3 mr-1"}),s.status==="completed"&&e.jsx(je,{className:"h-3 w-3 mr-1"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]}),e.jsxs(j,{variant:"outline",className:a(s.difficulty),children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),s.difficulty.charAt(0).toUpperCase()+s.difficulty.slice(1)]}),e.jsxs(j,{variant:"outline",children:[s.type==="individual"&&"👤",s.type==="group"&&"👥",s.type==="community"&&"🌍",e.jsx("span",{className:"ml-1 capitalize",children:s.type})]})]})]}),e.jsxs(d,{className:"space-y-4",children:[s.is_participating&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Your Progress"}),e.jsxs("span",{className:"text-muted-foreground",children:[s.current_progress,"/",s.target_value]})]}),e.jsx(E,{value:l,className:"h-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[l.toFixed(0),"% Complete"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Reward:"}),e.jsxs("span",{className:"font-medium",children:[s.points_reward," pts"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Participants:"}),e.jsx("span",{className:"font-medium",children:s.participants_count.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[s.duration_days," days"]})]}),s.status==="active"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"font-medium text-orange-600",children:x()})]})]}),s.badge_reward&&e.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Special Badge:"}),e.jsx("span",{className:"font-medium",children:s.badge_reward})]})}),s.special_unlock&&e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(U,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Unlocks:"}),e.jsx("span",{className:"font-medium text-purple-700",children:s.special_unlock})]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[!s.is_participating&&s.status==="active"&&e.jsx(v,{onClick:()=>n==null?void 0:n(s.id),disabled:o,className:"flex-1",children:o?"Joining...":"Join Challenge"}),s.is_participating&&s.status==="active"&&e.jsxs(j,{variant:"default",className:"flex-1 justify-center py-2",children:[e.jsx(je,{className:"h-3 w-3 mr-1"}),"Participating"]}),s.status==="upcoming"&&e.jsxs(v,{variant:"outline",className:"flex-1",disabled:!0,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Starts ",new Date(s.starts_at).toLocaleDateString()]}),s.status==="completed"&&e.jsxs(j,{variant:"secondary",className:"flex-1 justify-center py-2",children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Completed"]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>t==null?void 0:t(s),children:"Details"})]}),s.leaderboard&&s.leaderboard.length>0&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-yellow-500"}),"Top Participants"]}),e.jsx("div",{className:"space-y-1",children:s.leaderboard.slice(0,3).map((r,C)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["#",r.rank]}),e.jsx("span",{children:r.username})]}),e.jsx("span",{className:"font-medium text-primary",children:r.score.toLocaleString()})]},r.user_id))})]})]})]})},as=({challenge:s,onJoin:n})=>{const t=s.target_value>0?Math.min(s.current_progress/s.target_value*100,100):0;return e.jsx(c,{className:"border-primary/20",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:s.description})]}),e.jsx(j,{className:M("text-xs",rs(s.status)),children:s.status})]}),s.is_participating&&e.jsxs("div",{className:"mb-3",children:[e.jsx(E,{value:t,className:"h-1 mb-1"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.current_progress,"/",s.target_value]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.points_reward," pts"]}),!s.is_participating&&s.status==="active"&&e.jsx(v,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n(s.id),children:"Join"})]})]})})},rs=s=>{switch(s){case"active":return"bg-green-100 text-green-800 border-green-200";case"upcoming":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"expired":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ls=()=>{const{user:s}=be(),[n,t]=u.useState("overview"),{userStats:o,achievements:a,leaderboards:g,socialActivity:x,challenges:l,loading:r,error:C,levelProgress:h,unlockedAchievements:I,availableAchievements:b,recentAchievements:L,activeChallenges:P,availableChallenges:R,joinChallenge:G}=We();return s?r?e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((p,J)=>e.jsx(c,{className:"animate-pulse",children:e.jsxs(d,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-20 bg-muted rounded"})]})},J))}):C?e.jsx(c,{children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsxs("p",{className:"text-destructive mb-4",children:["Error loading gamification data: ",C]}),e.jsx(v,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-6",children:[o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(_,{className:"h-6 w-6 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold",children:["Level ",o.level]}),e.jsxs("div",{className:"text-xs opacity-80",children:[o.total_points.toLocaleString()," points"]})]})}),e.jsx(c,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(B,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.destinations_collected}),e.jsx("div",{className:"text-xs opacity-80",children:"Dream Destinations"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(Z,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.achievements_unlocked}),e.jsx("div",{className:"text-xs opacity-80",children:"Achievements"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(se,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.current_streak}),e.jsx("div",{className:"text-xs opacity-80",children:"Day Streak"})]})})]}),e.jsxs(ne,{value:n,onValueChange:t,className:"w-full",children:[e.jsxs(ce,{className:"grid w-full grid-cols-5",children:[e.jsx(y,{value:"overview",children:"Overview"}),e.jsx(y,{value:"achievements",children:"Achievements"}),e.jsx(y,{value:"leaderboards",children:"Leaderboards"}),e.jsx(y,{value:"challenges",children:"Challenges"}),e.jsx(y,{value:"social",children:"Activity"})]}),e.jsx(k,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:o&&e.jsx(Ze,{stats:o,levelProgress:h})}),e.jsxs("div",{className:"space-y-4",children:[L.length>0&&e.jsxs(c,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(T,{className:"text-base flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-yellow-500"}),"Recent Achievements"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-2",children:L.slice(0,3).map(p=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded",children:[e.jsx("span",{className:"text-lg",children:p.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:p.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[p.points_value," points"]})]})]},p.id))})})]}),g.length>0&&e.jsx(Ne,{entries:g[0].entries.slice(0,3),title:"Global Ranking"}),P.length>0&&e.jsxs(c,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(T,{className:"text-base flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-green-500"}),"Active Challenges"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:P.slice(0,2).map(p=>e.jsx(as,{challenge:p},p.id))})})]})]})]})}),e.jsxs(k,{value:"achievements",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Your Achievements"}),e.jsxs("p",{className:"text-muted-foreground",children:[I.length," unlocked • ",b.length," available"]})]}),e.jsxs(j,{variant:"outline",className:"bg-primary/10",children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),(o==null?void 0:o.achievements_unlocked)||0," Achievements"]})]}),e.jsxs(ne,{defaultValue:"all",className:"w-full",children:[e.jsxs(ce,{children:[e.jsx(y,{value:"all",children:"All"}),e.jsx(y,{value:"unlocked",children:"Unlocked"}),e.jsx(y,{value:"available",children:"Available"}),e.jsx(y,{value:"explorer",children:"Explorer"}),e.jsx(y,{value:"social",children:"Social"})]}),e.jsx(k,{value:"all",children:e.jsx(q,{achievements:a})}),e.jsx(k,{value:"unlocked",children:e.jsx(q,{achievements:I})}),e.jsx(k,{value:"available",children:e.jsx(q,{achievements:b})}),e.jsx(k,{value:"explorer",children:e.jsx(q,{achievements:a.filter(p=>p.category==="explorer")})}),e.jsx(k,{value:"social",children:e.jsx(q,{achievements:a.filter(p=>p.category==="social")})})]})]}),e.jsxs(k,{value:"leaderboards",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Leaderboards"}),e.jsx("p",{className:"text-muted-foreground",children:"Compete with travelers worldwide"})]}),o&&e.jsxs(j,{variant:"outline",className:"bg-primary/10",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Rank #",o.exploration_rank.toLocaleString()]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.map(p=>e.jsx(Xe,{leaderboard:p,maxEntries:10},p.id))})]}),e.jsxs(k,{value:"challenges",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Travel Challenges"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete challenges to earn points and unlock rewards"})]}),e.jsxs(j,{variant:"outline",className:"bg-green-100 text-green-800",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),P.length," Active"]})]}),P.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-orange-500"}),"Your Active Challenges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(p=>e.jsx(fe,{challenge:p},p.id))})]}),R.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-blue-500"}),"Available Challenges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(p=>e.jsx(fe,{challenge:p,onJoin:G},p.id))})]}),l.length===0&&e.jsx(c,{children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(B,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Challenges Available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back later for exciting travel challenges!"})]})})]}),e.jsxs(k,{value:"social",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Social Activity"}),e.jsx("p",{className:"text-muted-foreground",children:"See what your travel buddies are up to"})]}),e.jsxs(v,{variant:"outline",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Find Friends"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ve,{activities:x})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(es,{activities:x,maxItems:5}),g.length>0&&e.jsx(Ne,{entries:g[0].entries,title:"Top This Week"})]})]})]})]})]}):e.jsx(c,{children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(S,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Join the Community!"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to unlock achievements, compete on leaderboards, and connect with fellow travelers."}),e.jsx(v,{onClick:()=>window.location.href="/auth",children:"Sign In to Play"})]})})},Ks=()=>{const[s,n]=u.useState("my-journey"),[t,o]=u.useState(null),[a,g]=u.useState(null),[x,l]=u.useState(85),[r,C]=u.useState(""),[h,I]=u.useState(!0);Ue({includeAIContext:!0});const{travelDNA:b,recommendations:L,predictiveInsights:P,loading:R,refreshTravelDNA:G,refreshRecommendations:p,refreshPredictiveInsights:J}=Ge(),X=[{type:"solo",name:"Solo Adventure",description:"Just me, my dreams, and endless possibilities",icon:e.jsx(He,{className:"h-8 w-8 text-purple-500"}),perks:["Complete freedom","Self-discovery"],journeyType:"Soul Quest"},{type:"partner",name:"Romantic Journey",description:"Creating magical memories with my special someone",icon:e.jsx(O,{className:"h-8 w-8 text-pink-500"}),perks:["Romantic moments","Shared experiences"],journeyType:"Love Story"},{type:"friends",name:"Squad Adventure",description:"Epic adventures with my favorite people",icon:e.jsx(S,{className:"h-8 w-8 text-blue-500"}),perks:["Shared costs","Group activities"],journeyType:"Friendship Quest"},{type:"family",name:"Family Bonding",description:"Building precious family moments together",icon:e.jsx(qe,{className:"h-8 w-8 text-green-500"}),perks:["Family bonding","Kid-friendly fun"],journeyType:"Family Saga"}],Y=[{id:"bali-indonesia",name:"Bali",country:"Indonesia",image:"https://images.pexels.com/photos/261204/pexels-photo-261204.jpeg",price:95,days:7,excitement:92,perfectFor:["Solo soul searching","Romantic getaways"]},{id:"tokyo-japan",name:"Tokyo",country:"Japan",image:"https://images.unsplash.com/photo-1698923824953-a0bf7462e79d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzV8MHwxfHNlYXJjaHwyfHxsdXh1cnklMjB0cmF2ZWwlMjBkZXN0aW5hdGlvbnN8ZW58MHx8fHwxNzU4MzAxMjQ2fDA&ixlib=rb-4.1.0&q=85",price:180,days:5,excitement:95,perfectFor:["Cultural exploration","Food adventures"]},{id:"santorini-greece",name:"Santorini",country:"Greece",image:"https://images.unsplash.com/photo-1552873547-b88e7b2760e2?crop=entropy&cs=srgb&fm=jpg",price:220,days:6,excitement:98,perfectFor:["Romantic escapes","Photography lovers"]}],K=i=>{const w={id:`journey_${Date.now()}`,title:r||`My ${i.journeyType}`,companion:i,destinations:[],totalDays:0,totalBudget:0,progress:10,excitement:x,achievements:["Journey Starter"]};g(w),o(i),n("dream-destinations")},F=i=>{if(!a)return;const w={...a,destinations:[...a.destinations,i],totalDays:a.totalDays+i.days,totalBudget:a.totalBudget+i.price*i.days,progress:Math.min(a.progress+25,100),achievements:[...a.achievements,"Dream Collector"]};g(w),l(Math.min(x+5,100)),alert(`🎉 ${i.name} added to your journey! Excitement level: ${x+5}%`)},ae=()=>{if(!a)return;const i=`🌟 I'm planning my ${a.title}! ${a.destinations.length} amazing destinations, ${a.totalDays} days of adventure. Join me! 🗺️✈️`;navigator.share?navigator.share({title:a.title,text:i,url:window.location.href}):(navigator.clipboard.writeText(i),alert("Journey details copied to clipboard! 📋"))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[e.jsx("div",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-full",children:e.jsx(O,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"My Dream Journey"}),e.jsx("p",{className:"text-purple-200/80 text-sm",children:"Build your perfect adventure, step by step"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[h&&e.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[e.jsx(H,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-300",children:[b?Math.round(b.confidence_score*100):0,"%"]}),e.jsx("div",{className:"text-xs",children:"AI Match"})]})]}),a&&e.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:a.destinations.length}),e.jsx("div",{className:"text-xs",children:"Destinations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.totalDays}),e.jsx("div",{className:"text-xs",children:"Days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-300",children:["$",a.totalBudget]}),e.jsx("div",{className:"text-xs",children:"Budget"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[x,"%"]}),e.jsx("div",{className:"text-xs text-yellow-200",children:"Excitement"})]}),e.jsxs(v,{onClick:()=>I(!h),variant:h?"default":"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:["AI ",h?"On":"Off"]})]})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(ne,{value:s,onValueChange:n,className:"w-full",children:[e.jsxs(ce,{className:"grid w-full grid-cols-6 bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-2",children:[e.jsxs(y,{value:"my-journey",className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Journey"})]}),e.jsxs(y,{value:"dream-destinations",className:"flex items-center space-x-2",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Dreams"})]}),e.jsxs(y,{value:"ai-intelligence",className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"AI DNA"})]}),e.jsxs(y,{value:"achievements",className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Achievements"})]}),e.jsxs(y,{value:"social-hub",className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Social"})]}),e.jsxs(y,{value:"planner",className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Plan"})]})]}),e.jsx(k,{value:"my-journey",className:"space-y-8 mt-8",children:a?e.jsxs("div",{className:"space-y-8",children:[e.jsx(c,{className:"bg-gradient-to-r from-purple-900/50 via-pink-900/50 to-blue-900/50 border-purple-500/30 backdrop-blur-xl",children:e.jsxs(d,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[t==null?void 0:t.icon,e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white",children:a.title}),e.jsx("p",{className:"text-purple-200",children:t==null?void 0:t.description})]})]}),e.jsxs(v,{onClick:ae,className:"bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Share Journey"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white font-semibold",children:"Journey Progress"}),e.jsxs("span",{className:"text-purple-300",children:[a.progress,"% Complete"]})]}),e.jsx(E,{value:a.progress,className:"h-3"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:a.destinations.length}),e.jsx("div",{className:"text-xs text-white",children:"Dreams Added"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-pink-400",children:a.totalDays}),e.jsx("div",{className:"text-xs text-white",children:"Total Days"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",a.totalBudget]}),e.jsx("div",{className:"text-xs text-white",children:"Estimated Cost"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[x,"%"]}),e.jsx("div",{className:"text-xs text-white",children:"Excitement Level"})]})]})]})}),a.destinations.length>0&&e.jsxs(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[e.jsx(D,{children:e.jsxs(T,{className:"text-white flex items-center space-x-2",children:[e.jsx(W,{className:"h-5 w-5 text-purple-400"}),e.jsx("span",{children:"My Dream Destinations"})]})}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.destinations.map((i,w)=>e.jsxs(c,{className:"bg-white/5 border-white/10 overflow-hidden",children:[e.jsx("div",{className:"h-32",children:e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:i.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-purple-300",children:[i.days," days"]}),e.jsxs("span",{className:"text-blue-300",children:["$",i.price,"/day"]})]})]})]},w))})})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-purple-500/30",children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"What's your dream journey called?"}),e.jsx(De,{placeholder:"My Epic Adventure, Honeymoon Bliss, Squad Goals Trip...",value:r,onChange:i=>C(i.target.value),className:"text-center text-xl bg-white/10 border-white/20 text-white placeholder:text-white/50 mb-6"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Who's joining your adventure?"}),e.jsx("p",{className:"text-purple-200 mb-8",children:"Choose your travel style and unlock personalized recommendations"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:X.map(i=>e.jsx(c,{className:"group cursor-pointer bg-black/40 backdrop-blur-xl border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-105",onClick:()=>K(i),children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:i.icon}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:i.journeyType}),e.jsx("p",{className:"text-gray-300 text-sm mb-6",children:i.description}),e.jsx("div",{className:"space-y-2 mb-6",children:i.perks.map((w,$)=>e.jsx(j,{variant:"outline",className:"bg-white/5 border-white/20 text-white text-xs",children:w},$))}),e.jsxs(v,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Start Journey"]})]})},i.type))})]})}),e.jsxs(k,{value:"dream-destinations",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Build Your Dream Collection"}),e.jsx("p",{className:"text-purple-200",children:"Add destinations that spark joy and excitement in your journey"}),h&&L.length>0&&e.jsx("div",{className:"mt-4",children:e.jsxs(j,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),L.length," AI-Recommended Destinations Available"]})})]}),h&&L.length>0&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 via-purple-900/50 to-pink-900/50 border border-blue-500/30 backdrop-blur-xl rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(B,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{children:"AI-Powered Perfect Matches"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.slice(0,3).map((i,w)=>e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10 hover:border-blue-400/50 transition-all duration-500",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-bold text-white",children:i.destination_name}),e.jsxs(j,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:[i.recommendation_score,"% Match"]})]}),e.jsxs("p",{className:"text-gray-300 text-sm mb-3",children:[i.country,", ",i.continent]}),i.recommendation_reasons.slice(0,1).map(($,re)=>e.jsx("p",{className:"text-blue-300 text-xs mb-3",children:$.reason_text},re)),e.jsxs(v,{onClick:()=>{const $={id:`ai-${i.destination_name.toLowerCase().replace(" ","-")}`,name:i.destination_name,country:i.country,image:Y[w%Y.length].image,price:Math.floor(Math.random()*150)+80,days:Math.floor(Math.random()*7)+3,excitement:i.recommendation_score,perfectFor:["AI Recommended","Perfect Match"]};F($)},className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-sm",disabled:!a,children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),"Add AI Match"]})]})},w))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Y.map(i=>e.jsxs(c,{className:"group overflow-hidden bg-black/40 backdrop-blur-xl border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-[1.02]",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(j,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-lg font-bold",children:[i.excitement,"% ✨"]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:i.name}),e.jsxs("p",{className:"text-purple-200 flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-1"}),i.country]})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:["$",i.price]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["per day • ",i.days," days"]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Perfect for:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.perfectFor.map((w,$)=>e.jsx(j,{variant:"outline",className:"bg-white/5 border-white/20 text-white text-xs",children:w},$))})]}),e.jsxs(v,{onClick:()=>F(i),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",disabled:!a,children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),a?"Add to My Journey":"Start Journey First"]})]})]},i.id))})]}),e.jsxs(k,{value:"ai-intelligence",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your Travel DNA & AI Insights"}),e.jsx("p",{className:"text-purple-200",children:"Discover your unique travel personality and get personalized recommendations"})]}),h?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(ze,{travelDNA:b,loading:R,onRefresh:G})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Be,{recommendations:L,loading:R,onRefresh:p})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Re,{insights:P,loading:R,onRefresh:J})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Fe,{})})]}):e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(H,{className:"h-24 w-24 mx-auto mb-6 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"AI Intelligence Disabled"}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"Enable AI Intelligence to unlock personalized travel recommendations, DNA analysis, and predictive insights."}),e.jsxs(v,{onClick:()=>I(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 text-lg",children:[e.jsx(H,{className:"h-5 w-5 mr-2"}),"Enable AI Intelligence"]})]})})]}),e.jsxs(k,{value:"achievements",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your Travel Achievements"}),e.jsx("p",{className:"text-purple-200",children:"Unlock badges, earn points, and level up your journey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border-yellow-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-4 text-yellow-400"}),e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:(a==null?void 0:a.achievements.length)||0}),e.jsx("div",{className:"text-yellow-200 text-sm",children:"Badges Earned"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-purple-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 text-purple-400"}),e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:((a==null?void 0:a.achievements.length)||0)*250}),e.jsx("div",{className:"text-purple-200 text-sm",children:"Total Points"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-blue-900/50 to-indigo-900/50 border-blue-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(_,{className:"h-12 w-12 mx-auto mb-4 text-blue-400"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-400",children:["Level ",Math.floor(((a==null?void 0:a.achievements.length)||0)/2)+1]}),e.jsx("div",{className:"text-blue-200 text-sm",children:"Dream Explorer"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-green-900/50 to-teal-900/50 border-green-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(ue,{className:"h-12 w-12 mx-auto mb-4 text-green-400"}),e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[x,"%"]}),e.jsx("div",{className:"text-green-200 text-sm",children:"Excitement"})]})})]}),a&&a.achievements.length>0&&e.jsxs(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[e.jsx(D,{children:e.jsx(T,{className:"text-white",children:"Your Achievements"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:a.achievements.map((i,w)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-xl",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full",children:e.jsx(_,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:i}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Congratulations on this milestone!"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-yellow-400 font-bold",children:"+250"}),e.jsx("div",{className:"text-gray-400 text-xs",children:"points"})]})]},w))})})]})]}),e.jsx(k,{value:"social-hub",className:"space-y-8 mt-8",children:e.jsx(ls,{})}),e.jsxs(k,{value:"planner",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Plan Together"}),e.jsx("p",{className:"text-purple-200",children:"Collaborate with friends, family, or your partner"})]}),e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx(ee,{className:"h-24 w-24 mx-auto mb-6 text-purple-400"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Collaborative Planning"}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"Invite your travel companions to vote on destinations, share ideas, and build your dream journey together."}),e.jsxs(v,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 text-lg",onClick:()=>alert("Collaborative planning feature coming soon! 🚀"),children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Start Planning Together"]})]})})]})]})})]})};export{Ks as SmartDreamDashboard,Ks as default};
