import{c as le,g as ke,h as Te,r as x,l as X,j as e,a as c,b as d,t as L,f as v,P as G,d as $,e as z,B as S}from"./index-Dq_nR5Ff-1759933122431.js";import{I as De}from"./input-Bydyrj8B-1759933122431.js";import{T as he,a as ue,b as T,c as D}from"./tabs-DDxIM2Do-1759933122431.js";import{gamificationService as P}from"./gamification-service-CL0LQIVb-1759933122431.js";import{T as R,N as Re}from"./Navbar-12Rud25Q-1759933122431.js";import{M as W}from"./map-pin-CXdknln7-1759933122431.js";import{G as ve}from"./globe-DQlWuBAy-1759933122431.js";import{A as V}from"./award-B4QxKI3H-1759933122431.js";import{T as J}from"./target-BJ_YjjOi-1759933122431.js";import{S as Z}from"./star-Buh1Pu-7-1759933122431.js";import{U as E}from"./users-CC_Ry8Hn-1759933122431.js";import{C as Q}from"./calendar-eJGRJjLP-1759933122431.js";import{T as ge}from"./trending-up-8NwDTHBm-1759933122431.js";import{L as Ie}from"./lock-qABmx5fV-1759933122431.js";import{C as ee}from"./crown-Csa9nYVd-1759933122431.js";import{A as je,a as fe,b as Ne}from"./avatar-BRPJY7za-1759933122431.js";import{T as Pe}from"./trending-down-CeduwLBD-1759933122431.js";import{M as Ee}from"./minus-BzdExELU-1759933122431.js";import{H as Y}from"./heart-BKewfFvk-1759933122431.js";import{M as Le}from"./message-circle-BQPwxZVI-1759933122431.js";import{S as pe}from"./share-2-BACtsNs2-1759933122431.js";import{U as $e}from"./user-plus-CkqQkeh4-1759933122431.js";import{Z as Ce}from"./zap-CzXa7EY7-1759933122431.js";import{C as oe}from"./clock-CevUX4tn-1759933122431.js";import{C as ye}from"./circle-check-big-BCvHGSwA-1759933122431.js";import{T as ze,I as Fe,P as Be,J as Ue}from"./JourneyOptimizerCard-DDWe8MHs-1759933122431.js";import{u as Ge}from"./useEnhancedDreams-1rPn9xo7-1759933122431.js";import{u as Oe}from"./useAIIntelligence-BcpCzkFT-1759933122431.js";import{S as me}from"./sparkles-MjTXjajy-1759933122431.js";import{B as xe}from"./brain-C4QRw5B1-1759933122431.js";import{U as Je}from"./user-Bx8fJRi5-1759933122431.js";import{F as He}from"./Footer-DzrvQRJ1-1759933122431.js";import"./useApiHealth-COUzNcZ4-1759933122431.js";import"./useHealthMonitor-ivjjlTDS-1759933122431.js";import"./plane-A0ycxBH7-1759933122431.js";import"./chevron-down-DLVzTEwH-1759933122431.js";import"./menu-BRrgaxEm-1759933122431.js";import"./settings-EiYb01TG-1759933122431.js";import"./shield-Da8lX50q-1759933122431.js";import"./index-D4Vf6Sn_-1759933122431.js";import"./activity-gc7pKmiE-1759933122431.js";import"./select-B6oRvEIt-1759933122431.js";import"./index-BdQq_4o_-1759933122431.js";import"./index-Dltjd_jj-1759933122431.js";import"./search-Arty_OFn-1759933122431.js";import"./lightbulb-CIlzimgA-1759933122431.js";import"./external-link-B7ImYU2m-1759933122431.js";import"./dollar-sign-CFeKF6u--1759933122431.js";import"./arrow-right-Dwe85e4e-1759933122431.js";import"./plus-Gza4obas-1759933122431.js";import"./bot-CrKXniXw-1759933122431.js";import"./cpu-BjjF2ADA-1759933122431.js";import"./map-C242lEui-1759933122431.js";import"./play-BrwgIXpL-1759933122431.js";import"./book-open-DXiLDimw-1759933122431.js";import"./file-text-DZl20evW-1759933122431.js";import"./mail-DC4f6v4u-1759933122431.js";import"./twitter-D7gfX_j9-1759933122431.js";import"./send-GnDiyF_5-1759933122431.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=le("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=le("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=le("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Ze=()=>{const{user:s}=ke(),{toast:n}=Te(),[a,o]=x.useState(null),[r,b]=x.useState([]),[g,i]=x.useState([]),[l,M]=x.useState([]),[p,B]=x.useState([]),[y,F]=x.useState([]),[f,h]=x.useState(null),[A,u]=x.useState(null),[N,w]=x.useState(!0),[m,se]=x.useState(null),U=x.useCallback(async()=>{if(s!=null&&s.id)try{w(!0),se(null);const[j,_,k,O,ae,Se,Ae,Me]=await Promise.all([P.getUserGameStats(s.id),P.getUserAchievements(s.id),P.getLeaderboards(["global","weekly","friends"]),P.getSocialConnections(s.id),P.getSocialActivityFeed(s.id,20),P.getChallenges(s.id),P.getDreamCollectionStats(s.id),P.getSocialInsights(s.id)]);o(j),b(_),i(k),M(O),B(ae),F(Se),h(Ae),u(Me)}catch(j){const _=j instanceof Error?j.message:"Failed to fetch gamification data";se(_),X.error("Error fetching gamification data:",j)}finally{w(!1)}},[s==null?void 0:s.id]),ie=x.useCallback(async(j,_)=>{if(!(s!=null&&s.id))return null;try{const k=await P.checkAchievements(s.id,j,_);if(k.newly_unlocked.length>0){k.newly_unlocked.forEach(ae=>{n({title:"🏆 Achievement Unlocked!",description:`${ae.name}: ${ae.description}`,duration:5e3})});const O=await P.getUserAchievements(s.id);b(O)}if(k.points_earned>0&&n({title:"✨ Points Earned!",description:`You earned ${k.points_earned} points!`,duration:3e3}),k.level_up){n({title:"🎉 Level Up!",description:`Welcome to Level ${k.level_up.new_level}!`,duration:6e3});const O=await P.getUserGameStats(s.id);o(O)}return k}catch(k){return X.error("Error checking achievements:",k),null}},[s==null?void 0:s.id,n]),ne=x.useCallback(async j=>{if(!(s!=null&&s.id))return n({title:"Authentication Required",description:"Please log in to join challenges.",variant:"destructive"}),!1;try{const _=await P.joinChallenge(s.id,j);if(_.success){n({title:"Challenge Joined!",description:_.message});const k=await P.getChallenges(s.id);return F(k),await P.trackGameEvent(s.id,{event_type:"challenge_joined",event_data:{challenge_id:j},timestamp:new Date,user_context:{current_level:(a==null?void 0:a.level)||1,current_points:(a==null?void 0:a.total_points)||0,active_challenges:y.filter(O=>O.is_participating).map(O=>O.id)}}),!0}else return n({title:"Failed to Join Challenge",description:_.message,variant:"destructive"}),!1}catch{return n({title:"Error",description:"Failed to join challenge. Please try again.",variant:"destructive"}),!1}},[s==null?void 0:s.id,a,y,n]),ce=x.useCallback(async(j,_)=>{if(s!=null&&s.id)try{await P.trackGameEvent(s.id,{event_type:j,event_data:_,timestamp:new Date,user_context:{current_level:(a==null?void 0:a.level)||1,current_points:(a==null?void 0:a.total_points)||0,active_challenges:y.filter(k=>k.is_participating).map(k=>k.id)}})}catch(k){X.error("Error tracking game event:",k)}},[s==null?void 0:s.id,a,y]),H=x.useCallback(()=>{if(!a)return{current:0,next:0,progress:0};const j=(a.level-1)*1e3,_=a.level*1e3,k=(a.total_points-j)/(_-j)*100;return{current:j,next:_,progress:Math.min(Math.max(k,0),100)}},[a]),te=x.useCallback(j=>j?r.filter(_=>_.category===j):r,[r]),K=x.useCallback(()=>r.filter(j=>j.unlocked),[r]),de=x.useCallback(()=>r.filter(j=>!j.unlocked),[r]),t=x.useCallback(()=>{const j=new Date(Date.now()-6048e5);return r.filter(_=>_.unlocked&&_.unlocked_at&&new Date(_.unlocked_at)>j)},[r]),C=x.useCallback(()=>y.filter(j=>j.status==="active"&&j.is_participating),[y]),I=x.useCallback(()=>y.filter(j=>j.status==="active"&&!j.is_participating),[y]);return x.useEffect(()=>{s!=null&&s.id&&U()},[s==null?void 0:s.id,U]),x.useEffect(()=>{if(!(s!=null&&s.id))return;const j=setInterval(()=>{U()},5*60*1e3);return()=>clearInterval(j)},[s==null?void 0:s.id,U]),{userStats:a,achievements:r,leaderboards:g,socialConnections:l,socialActivity:p,challenges:y,collectionStats:f,socialInsights:A,loading:N,error:m,checkAchievements:ie,joinChallenge:ne,trackGameEvent:ce,refetch:U,levelProgress:H(),unlockedAchievements:K(),availableAchievements:de(),recentAchievements:t(),activeChallenges:C(),availableChallenges:I(),getAchievementsByCategory:te}},Qe=({stats:s,levelProgress:n,compact:a=!1})=>{const o=g=>g>=30?"text-purple-600 bg-purple-50 border-purple-200":g>=14?"text-blue-600 bg-blue-50 border-blue-200":g>=7?"text-green-600 bg-green-50 border-green-200":g>=3?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-gray-600 bg-gray-50 border-gray-200",b=(g=>g<=10?{icon:"👑",text:"Elite",color:"bg-gradient-to-r from-yellow-400 to-orange-500"}:g<=100?{icon:"🏆",text:"Expert",color:"bg-gradient-to-r from-blue-400 to-purple-500"}:g<=1e3?{icon:"⭐",text:"Rising",color:"bg-gradient-to-r from-green-400 to-blue-500"}:{icon:"🎯",text:"Explorer",color:"bg-gradient-to-r from-gray-400 to-gray-500"})(s.exploration_rank);return a?e.jsx(c,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:L("flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold",b.color),children:s.level}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Level ",s.level]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.total_points.toLocaleString()," points"]})]})]}),e.jsxs(v,{className:L("border",o(s.current_streak)),children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),s.current_streak]})]}),e.jsx(G,{value:n.progress,className:"h-2 mb-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[Math.round(n.progress),"% to Level ",s.level+1]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(c,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5",children:[e.jsx($,{className:"pb-3",children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:L("flex items-center justify-center w-12 h-12 rounded-full text-white text-lg font-bold",b.color),children:s.level}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-bold",children:["Level ",s.level]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.text," Explorer"]})]})]}),e.jsxs(v,{variant:"outline",className:"bg-background/50",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),"#",s.exploration_rank.toLocaleString()]})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:s.total_points.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Level Progress"}),e.jsxs("span",{children:[Math.round(n.progress),"%"]})]}),e.jsx(G,{value:n.progress,className:"h-3"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-center",children:[(n.next-s.total_points).toLocaleString()," points to Level ",s.level+1]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(W,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-2xl font-bold",children:s.destinations_collected}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dreams"}),e.jsx(G,{value:Math.min(s.destinations_collected/100*100,100),className:"h-1 mt-2"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(ve,{className:"h-6 w-6 mx-auto mb-2 text-accent"}),e.jsx("div",{className:"text-2xl font-bold",children:s.continents_unlocked}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Continents"}),e.jsx(G,{value:s.continents_unlocked/7*100,className:"h-1 mt-2"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(V,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),e.jsx("div",{className:"text-2xl font-bold",children:s.achievements_unlocked}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Achievements"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(re,{className:"h-6 w-6 mx-auto mb-2 text-orange-500"}),e.jsx("div",{className:"text-2xl font-bold",children:s.current_streak}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Day Streak"}),s.current_streak>0&&e.jsx(v,{className:L("mt-1 text-xs",o(s.current_streak)),children:"🔥 On Fire!"})]})})]}),e.jsxs(c,{children:[e.jsx($,{children:e.jsxs(z,{className:"text-lg flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Category Progress"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(s.category_stats).map(([g,i])=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"capitalize font-medium",children:[g," (",i.count,")"]}),e.jsxs("span",{className:"text-muted-foreground",children:[i.completion_percentage,"% complete"]})]}),e.jsx(G,{value:i.completion_percentage,className:"h-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Avg rarity: ",i.average_rarity,"/100"]})]},g))})})]}),e.jsxs(c,{children:[e.jsx($,{children:e.jsxs(z,{className:"text-lg flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5"}),"Continental Explorer"]})}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.continent_progress).map(([g,i])=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium",children:g}),e.jsxs(v,{variant:"outline",className:"text-xs",children:[i.destinations_count," places"]})]}),e.jsx(G,{value:i.completion_percentage,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.completion_percentage,"% explored",i.rare_destinations_count>0&&e.jsxs("span",{className:"ml-2",children:["✨ ",i.rare_destinations_count," rare"]})]})]},g))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Rarity Score"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-600",children:s.rarity_score})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Based on rare destinations collected"})]})}),e.jsx(c,{children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Social Score"})]}),e.jsx("div",{className:"text-xl font-bold text-blue-600",children:s.social_score})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Friends and social interactions"})]})})]}),e.jsx(c,{className:"border-muted bg-muted/30",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx(Q,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Longest Streak"}),e.jsxs("div",{className:"text-lg font-bold text-orange-500",children:[s.longest_streak," days"]})]}),e.jsxs("div",{children:[e.jsx(ge,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Last Activity"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.last_activity).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(R,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Global Rank"}),e.jsxs("div",{className:"text-lg font-bold text-primary",children:["#",s.exploration_rank.toLocaleString()]})]})]})})})]})},Xe=({achievement:s,onClick:n,size:a="md",showProgress:o=!0})=>{const r=l=>{switch(l){case"legendary":return"from-purple-500 to-pink-500 text-white border-purple-300";case"epic":return"from-blue-500 to-cyan-500 text-white border-blue-300";case"rare":return"from-green-500 to-emerald-500 text-white border-green-300";case"common":return"from-gray-400 to-gray-500 text-white border-gray-300";default:return"from-gray-400 to-gray-500 text-white border-gray-300"}},b=l=>{switch(l){case"legendary":return e.jsx(ee,{className:"h-4 w-4"});case"epic":return e.jsx(We,{className:"h-4 w-4"});case"rare":return e.jsx(Z,{className:"h-4 w-4"});case"common":return e.jsx(R,{className:"h-4 w-4"});default:return e.jsx(R,{className:"h-4 w-4"})}},g=()=>{switch(a){case"sm":return"p-3";case"lg":return"p-6";default:return"p-4"}},i=()=>{switch(a){case"sm":return"text-sm";case"lg":return"text-lg";default:return"text-base"}};return e.jsx(c,{className:L("group cursor-pointer transition-all duration-300 hover:shadow-lg",s.unlocked?"border-primary/30 bg-gradient-to-br from-primary/5 to-accent/5":"border-muted bg-muted/30 opacity-75",n&&"hover:scale-105"),onClick:n,children:e.jsx(d,{className:g(),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:L("flex items-center justify-center rounded-lg w-12 h-12 bg-gradient-to-br shrink-0",r(s.rarity)),children:e.jsx("span",{className:"text-2xl",role:"img","aria-label":s.name,children:s.icon})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:L("font-semibold truncate",i()),children:s.name}),!s.unlocked&&e.jsx(Ie,{className:"h-3 w-3 text-muted-foreground shrink-0"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:s.description}),o&&s.max_progress>1&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"/",s.max_progress]})]}),e.jsx(G,{value:s.progress/s.max_progress*100,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",className:L("text-xs bg-gradient-to-r border",r(s.rarity)),children:[b(s.rarity),e.jsx("span",{className:"ml-1 capitalize",children:s.rarity})]}),e.jsx(v,{variant:"secondary",className:"text-xs capitalize",children:s.category})]}),e.jsxs("div",{className:"text-xs font-medium text-primary",children:[s.points_value," pts"]})]}),s.unlocked&&s.unlocked_at&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Unlocked ",new Date(s.unlocked_at).toLocaleDateString()]})]})]})})})},q=({achievements:s,onAchievementClick:n,maxDisplayed:a})=>{const o=a?s.slice(0,a):s;return s.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(R,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"No achievements to display"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.map(r=>e.jsx(Xe,{achievement:r,onClick:()=>n==null?void 0:n(r)},r.id)),a&&s.length>a&&e.jsx(c,{className:"border-dashed border-2 border-muted-foreground/20",children:e.jsx(d,{className:"p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsxs("div",{className:"text-2xl mb-2",children:["+",s.length-a]}),e.jsx("div",{className:"text-sm",children:"More achievements"})]})})})]})},Ke=({leaderboard:s,onViewAll:n,maxEntries:a=5})=>{const o=i=>{switch(i){case 1:return e.jsx(ee,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(be,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(V,{className:"h-5 w-5 text-amber-600"});default:return e.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",i]})}},r=i=>i>0?e.jsx(ge,{className:"h-3 w-3 text-green-500"}):i<0?e.jsx(Pe,{className:"h-3 w-3 text-red-500"}):e.jsx(Ee,{className:"h-3 w-3 text-muted-foreground"}),b=i=>i>0?"text-green-600":i<0?"text-red-600":"text-muted-foreground",g=s.entries.slice(0,a);return e.jsxs(c,{children:[e.jsxs($,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"flex items-center gap-2 text-lg",children:[e.jsx(R,{className:"h-5 w-5 text-primary"}),s.name]}),e.jsxs(v,{variant:"outline",className:"text-xs",children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),s.total_participants.toLocaleString()]})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs(d,{className:"space-y-3",children:[g.map((i,l)=>e.jsxs("div",{className:L("flex items-center justify-between p-3 rounded-lg border transition-colors",i.rank<=3?"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20":"bg-muted/30 border-muted"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:o(i.rank)}),e.jsxs(je,{className:"h-8 w-8",children:[e.jsx(fe,{src:i.avatar_url,alt:i.username}),e.jsx(Ne,{className:"text-xs",children:i.username.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium truncate",children:i.username}),i.specialization&&e.jsx(v,{variant:"secondary",className:"text-xs px-1 py-0",children:i.specialization})]}),i.badges&&i.badges.length>0&&e.jsxs("div",{className:"flex gap-1 mt-1",children:[i.badges.slice(0,3).map((M,p)=>e.jsx("span",{className:"text-xs",role:"img",children:M},p)),i.badges.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.badges.length-3]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-primary",children:i.score.toLocaleString()}),i.change_from_last_week!==0&&e.jsxs("div",{className:L("flex items-center gap-1 text-xs",b(i.change_from_last_week)),children:[r(i.change_from_last_week),e.jsx("span",{children:Math.abs(i.change_from_last_week)})]})]})]},i.user_id)),s.user_rank&&s.user_rank>a&&e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Your rank:"}),e.jsxs(v,{variant:"outline",children:["#",s.user_rank.toLocaleString()]})]})}),s.entries.length>a&&n&&e.jsx(S,{variant:"outline",className:"w-full mt-3",onClick:n,children:"View Full Leaderboard"}),e.jsx("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Updated ",new Date(s.updated_at).toLocaleDateString()]}),s.ends_at&&e.jsxs("span",{children:["Ends ",new Date(s.ends_at).toLocaleDateString()]})]})})]})]})},we=({entries:s,title:n="Top Players"})=>e.jsxs(c,{children:[e.jsx($,{className:"pb-2",children:e.jsx(z,{className:"text-base",children:n})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-2",children:s.slice(0,3).map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:qe(a.rank)}),e.jsx("span",{className:"text-sm font-medium truncate",children:a.username})]}),e.jsx("div",{className:"text-sm font-bold text-primary",children:a.score.toLocaleString()})]},a.user_id))})})]}),qe=s=>{switch(s){case 1:return e.jsx(ee,{className:"h-4 w-4 text-yellow-500"});case 2:return e.jsx(be,{className:"h-4 w-4 text-gray-400"});case 3:return e.jsx(V,{className:"h-4 w-4 text-amber-600"});default:return e.jsxs("span",{className:"text-xs font-bold text-muted-foreground",children:["#",s]})}},Ve=({activities:s,onLike:n,onComment:a,onShare:o,loading:r=!1})=>{const b=l=>{switch(l){case"destination_added":return e.jsx(W,{className:"h-4 w-4 text-blue-500"});case"achievement_unlocked":return e.jsx(R,{className:"h-4 w-4 text-yellow-500"});case"level_up":return e.jsx(ge,{className:"h-4 w-4 text-green-500"});case"friend_added":return e.jsx($e,{className:"h-4 w-4 text-purple-500"});case"challenge_completed":return e.jsx(J,{className:"h-4 w-4 text-orange-500"});case"trip_planned":return e.jsx(pe,{className:"h-4 w-4 text-pink-500"});default:return e.jsx(E,{className:"h-4 w-4 text-gray-500"})}},g=l=>{const{activity_type:M,activity_data:p}=l;switch(M){case"destination_added":return`added ${p.destination_name} to their dream destinations`;case"achievement_unlocked":return`unlocked the "${p.achievement_name}" achievement`;case"level_up":return`reached Level ${p.level}`;case"friend_added":return`became travel buddies with ${p.friend_name}`;case"challenge_completed":return`completed the "${p.challenge_name}" challenge`;case"trip_planned":return`planned a trip to ${p.destination_name}`;default:return"had some travel activity"}},i=l=>{const p=Math.floor((new Date().getTime()-new Date(l).getTime())/1e3);return p<60?"just now":p<3600?`${Math.floor(p/60)}m ago`:p<86400?`${Math.floor(p/3600)}h ago`:p<604800?`${Math.floor(p/86400)}d ago`:new Date(l).toLocaleDateString()};return r?e.jsxs(c,{children:[e.jsx($,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((l,M)=>e.jsxs("div",{className:"flex gap-3 animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},M))})})]}):s.length===0?e.jsxs(c,{children:[e.jsx($,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with friends to see their travel activities here!"})]})})]}):e.jsxs(c,{children:[e.jsx($,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Social Activity"]})}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:s.map(l=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(je,{className:"h-10 w-10",children:[e.jsx(fe,{src:l.avatar_url,alt:l.username}),e.jsx(Ne,{children:l.username.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("div",{className:"mt-1",children:b(l.activity_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:l.username})," ",e.jsx("span",{className:"text-muted-foreground",children:g(l)})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i(l.created_at)})]}),l.visibility!=="public"&&e.jsx(v,{variant:"outline",className:"text-xs",children:l.visibility})]}),l.activity_type==="destination_added"&&l.activity_data.destination_name&&e.jsx("div",{className:"ml-6 p-2 bg-muted/30 rounded-lg mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:l.activity_data.destination_name})]})}),l.activity_type==="achievement_unlocked"&&e.jsx("div",{className:"ml-6 p-2 bg-yellow-50 border border-yellow-200 rounded-lg mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-3 w-3 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:l.activity_data.achievement_name})]})}),e.jsxs("div",{className:"flex items-center gap-4 ml-6 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(S,{variant:"ghost",size:"sm",className:L("h-6 px-2 text-xs",l.is_liked_by_user?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-red-500"),onClick:()=>n==null?void 0:n(l.id),children:[e.jsx(Y,{className:L("h-3 w-3 mr1",l.is_liked_by_user&&"fill-current")}),l.likes_count>0&&l.likes_count]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground hover:text-blue-500",onClick:()=>a==null?void 0:a(l.id),children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),l.comments_count>0&&l.comments_count]}),e.jsx(S,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground hover:text-green-500",onClick:()=>o==null?void 0:o(l.id),children:e.jsx(pe,{className:"h-3 w-3"})})]})]})]}),s.indexOf(l)<s.length-1&&e.jsx("div",{className:"border-t border-muted mt-4"})]},l.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(S,{variant:"outline",size:"sm",children:"Load More Activities"})})]})]})},es=({activities:s,maxItems:n=3})=>{const a=s.slice(0,n);return a.length===0?e.jsx(c,{children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(E,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})]})}):e.jsxs(c,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(z,{className:"text-base flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"Recent Activity"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:a.map(o=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{className:"h-6 w-6",children:[e.jsx(fe,{src:o.avatar_url,alt:o.username}),e.jsx(Ne,{className:"text-xs",children:o.username.slice(0,1).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[e.jsx("span",{className:"font-medium text-foreground",children:o.username})," ",ss(o)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ts(o.created_at)})]})]},o.id))})})]})},ss=s=>{const{activity_type:n,activity_data:a}=s;switch(n){case"destination_added":return`added ${a.destination_name}`;case"achievement_unlocked":return`unlocked "${a.achievement_name}"`;case"level_up":return`reached Level ${a.level}`;case"friend_added":return`added ${a.friend_name}`;case"challenge_completed":return`completed "${a.challenge_name}"`;case"trip_planned":return`planned trip to ${a.destination_name}`;default:return"had some activity"}},ts=s=>{const a=Math.floor((new Date().getTime()-new Date(s).getTime())/1e3);return a<60?"now":a<3600?`${Math.floor(a/60)}m`:a<86400?`${Math.floor(a/3600)}h`:`${Math.floor(a/86400)}d`},_e=({challenge:s,onJoin:n,onViewDetails:a,loading:o=!1})=>{const r=l=>{switch(l){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-orange-100 text-orange-800 border-orange-200";case"expert":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=l=>{switch(l){case"active":return"bg-green-100 text-green-800 border-green-200";case"upcoming":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"expired":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=()=>{const l=new Date,p=new Date(s.ends_at).getTime()-l.getTime();if(p<=0)return"Expired";const B=Math.floor(p/(1e3*60*60*24)),y=Math.floor(p%(1e3*60*60*24)/(1e3*60*60));return B>0?`${B}d ${y}h left`:y>0?`${y}h left`:"Ending soon"},i=s.target_value>0?Math.min(s.current_progress/s.target_value*100,100):0;return e.jsxs(c,{className:L("group cursor-pointer transition-all duration-300 hover:shadow-lg",s.is_participating&&"border-primary/30 bg-gradient-to-br from-primary/5 to-accent/5"),children:[e.jsxs($,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(z,{className:"text-lg mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]}),e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-br from-primary to-accent text-white shrink-0",children:e.jsx(J,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.jsxs(v,{className:L("border",b(s.status)),children:[s.status==="active"&&e.jsx(Ce,{className:"h-3 w-3 mr-1"}),s.status==="upcoming"&&e.jsx(oe,{className:"h-3 w-3 mr-1"}),s.status==="completed"&&e.jsx(ye,{className:"h-3 w-3 mr-1"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]}),e.jsxs(v,{variant:"outline",className:r(s.difficulty),children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),s.difficulty.charAt(0).toUpperCase()+s.difficulty.slice(1)]}),e.jsxs(v,{variant:"outline",children:[s.type==="individual"&&"👤",s.type==="group"&&"👥",s.type==="community"&&"🌍",e.jsx("span",{className:"ml-1 capitalize",children:s.type})]})]})]}),e.jsxs(d,{className:"space-y-4",children:[s.is_participating&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Your Progress"}),e.jsxs("span",{className:"text-muted-foreground",children:[s.current_progress,"/",s.target_value]})]}),e.jsx(G,{value:i,className:"h-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[i.toFixed(0),"% Complete"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Reward:"}),e.jsxs("span",{className:"font-medium",children:[s.points_reward," pts"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Participants:"}),e.jsx("span",{className:"font-medium",children:s.participants_count.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[s.duration_days," days"]})]}),s.status==="active"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"font-medium text-orange-600",children:g()})]})]}),s.badge_reward&&e.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(V,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Special Badge:"}),e.jsx("span",{className:"font-medium",children:s.badge_reward})]})}),s.special_unlock&&e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Unlocks:"}),e.jsx("span",{className:"font-medium text-purple-700",children:s.special_unlock})]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[!s.is_participating&&s.status==="active"&&e.jsx(S,{onClick:()=>n==null?void 0:n(s.id),disabled:o,className:"flex-1",children:o?"Joining...":"Join Challenge"}),s.is_participating&&s.status==="active"&&e.jsxs(v,{variant:"default",className:"flex-1 justify-center py-2",children:[e.jsx(ye,{className:"h-3 w-3 mr-1"}),"Participating"]}),s.status==="upcoming"&&e.jsxs(S,{variant:"outline",className:"flex-1",disabled:!0,children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Starts ",new Date(s.starts_at).toLocaleDateString()]}),s.status==="completed"&&e.jsxs(v,{variant:"secondary",className:"flex-1 justify-center py-2",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),"Completed"]}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>a==null?void 0:a(s),children:"Details"})]}),s.leaderboard&&s.leaderboard.length>0&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-yellow-500"}),"Top Participants"]}),e.jsx("div",{className:"space-y-1",children:s.leaderboard.slice(0,3).map((l,M)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["#",l.rank]}),e.jsx("span",{children:l.username})]}),e.jsx("span",{className:"font-medium text-primary",children:l.score.toLocaleString()})]},l.user_id))})]})]})]})},as=({challenge:s,onJoin:n})=>{const a=s.target_value>0?Math.min(s.current_progress/s.target_value*100,100):0;return e.jsx(c,{className:"border-primary/20",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:s.description})]}),e.jsx(v,{className:L("text-xs",rs(s.status)),children:s.status})]}),s.is_participating&&e.jsxs("div",{className:"mb-3",children:[e.jsx(G,{value:a,className:"h-1 mb-1"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.current_progress,"/",s.target_value]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.points_reward," pts"]}),!s.is_participating&&s.status==="active"&&e.jsx(S,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n(s.id),children:"Join"})]})]})})},rs=s=>{switch(s){case"active":return"bg-green-100 text-green-800 border-green-200";case"upcoming":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"expired":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ls=()=>{const{user:s}=ke(),[n,a]=x.useState("overview"),{userStats:o,achievements:r,leaderboards:b,socialActivity:g,challenges:i,loading:l,error:M,levelProgress:p,unlockedAchievements:B,availableAchievements:y,recentAchievements:F,activeChallenges:f,availableChallenges:h,joinChallenge:A}=Ze();return s?l?e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((u,N)=>e.jsx(c,{className:"animate-pulse",children:e.jsxs(d,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-20 bg-muted rounded"})]})},N))}):M?e.jsx(c,{children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsxs("p",{className:"text-destructive mb-4",children:["Error loading gamification data: ",M]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-6",children:[o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(R,{className:"h-6 w-6 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold",children:["Level ",o.level]}),e.jsxs("div",{className:"text-xs opacity-80",children:[o.total_points.toLocaleString()," points"]})]})}),e.jsx(c,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(J,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.destinations_collected}),e.jsx("div",{className:"text-xs opacity-80",children:"Dream Destinations"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(V,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.achievements_unlocked}),e.jsx("div",{className:"text-xs opacity-80",children:"Achievements"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(re,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:o.current_streak}),e.jsx("div",{className:"text-xs opacity-80",children:"Day Streak"})]})})]}),e.jsxs(he,{value:n,onValueChange:a,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-5",children:[e.jsx(T,{value:"overview",children:"Overview"}),e.jsx(T,{value:"achievements",children:"Achievements"}),e.jsx(T,{value:"leaderboards",children:"Leaderboards"}),e.jsx(T,{value:"challenges",children:"Challenges"}),e.jsx(T,{value:"social",children:"Activity"})]}),e.jsx(D,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:o&&e.jsx(Qe,{stats:o,levelProgress:p})}),e.jsxs("div",{className:"space-y-4",children:[F.length>0&&e.jsxs(c,{children:[e.jsx($,{className:"pb-3",children:e.jsxs(z,{className:"text-base flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-yellow-500"}),"Recent Achievements"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-2",children:F.slice(0,3).map(u=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded",children:[e.jsx("span",{className:"text-lg",children:u.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:u.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.points_value," points"]})]})]},u.id))})})]}),b.length>0&&e.jsx(we,{entries:b[0].entries.slice(0,3),title:"Global Ranking"}),f.length>0&&e.jsxs(c,{children:[e.jsx($,{className:"pb-3",children:e.jsxs(z,{className:"text-base flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-500"}),"Active Challenges"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:f.slice(0,2).map(u=>e.jsx(as,{challenge:u},u.id))})})]})]})]})}),e.jsxs(D,{value:"achievements",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Your Achievements"}),e.jsxs("p",{className:"text-muted-foreground",children:[B.length," unlocked • ",y.length," available"]})]}),e.jsxs(v,{variant:"outline",className:"bg-primary/10",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),(o==null?void 0:o.achievements_unlocked)||0," Achievements"]})]}),e.jsxs(he,{defaultValue:"all",className:"w-full",children:[e.jsxs(ue,{children:[e.jsx(T,{value:"all",children:"All"}),e.jsx(T,{value:"unlocked",children:"Unlocked"}),e.jsx(T,{value:"available",children:"Available"}),e.jsx(T,{value:"explorer",children:"Explorer"}),e.jsx(T,{value:"social",children:"Social"})]}),e.jsx(D,{value:"all",children:e.jsx(q,{achievements:r})}),e.jsx(D,{value:"unlocked",children:e.jsx(q,{achievements:B})}),e.jsx(D,{value:"available",children:e.jsx(q,{achievements:y})}),e.jsx(D,{value:"explorer",children:e.jsx(q,{achievements:r.filter(u=>u.category==="explorer")})}),e.jsx(D,{value:"social",children:e.jsx(q,{achievements:r.filter(u=>u.category==="social")})})]})]}),e.jsxs(D,{value:"leaderboards",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Leaderboards"}),e.jsx("p",{className:"text-muted-foreground",children:"Compete with travelers worldwide"})]}),o&&e.jsxs(v,{variant:"outline",className:"bg-primary/10",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Rank #",o.exploration_rank.toLocaleString()]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(u=>e.jsx(Ke,{leaderboard:u,maxEntries:10},u.id))})]}),e.jsxs(D,{value:"challenges",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Travel Challenges"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete challenges to earn points and unlock rewards"})]}),e.jsxs(v,{variant:"outline",className:"bg-green-100 text-green-800",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),f.length," Active"]})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5 text-orange-500"}),"Your Active Challenges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(u=>e.jsx(_e,{challenge:u},u.id))})]}),h.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-blue-500"}),"Available Challenges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(u=>e.jsx(_e,{challenge:u,onJoin:A},u.id))})]}),i.length===0&&e.jsx(c,{children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(J,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Challenges Available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back later for exciting travel challenges!"})]})})]}),e.jsxs(D,{value:"social",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Social Activity"}),e.jsx("p",{className:"text-muted-foreground",children:"See what your travel buddies are up to"})]}),e.jsxs(S,{variant:"outline",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Find Friends"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ve,{activities:g})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(es,{activities:g,maxItems:5}),b.length>0&&e.jsx(we,{entries:b[0].entries,title:"Top This Week"})]})]})]})]})]}):e.jsx(c,{children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(E,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Join the Community!"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to unlock achievements, compete on leaderboards, and connect with fellow travelers."}),e.jsx(S,{onClick:()=>window.location.href="/auth",children:"Sign In to Play"})]})})},is=()=>{const[s,n]=x.useState(null),[a,o]=x.useState(!1),[r,b]=x.useState(null),[g,i]=x.useState([]),l=x.useCallback(async f=>{try{o(!0),b(null),X.info("Starting Smart Dreams provider search",{companionType:f.companionType,destination:f.destination});const h="https://journey-planner-137.preview.emergentagent.com",A={companion_type:f.companionType,travel_dna:f.travelDNA,destination:f.destination,date_range:f.dateRange?{start:f.dateRange.start.toISOString(),end:f.dateRange.end.toISOString()}:null,budget:f.budget,preferences:f.preferences},u=await fetch(`${h}/api/smart-dreams/provider-search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!u.ok)throw new Error(`Provider search failed: ${u.status} ${u.statusText}`);const N=await u.json();if(N.error)throw new Error(N.error);const w={hotels:N.hotels.map(m=>({id:m.id,name:m.name,provider:m.provider,price:m.price,rating:m.rating,aiConfidenceScore:m.ai_confidence_score,personalityMatch:m.personality_match,companionSuitability:m.companion_suitability,dreamDestinationMatch:m.dream_destination_match,recommendationReasons:m.recommendation_reasons,location:m.location,amenities:m.amenities})),flights:N.flights.map(m=>({id:m.id,provider:m.provider,price:m.price,duration:m.duration,aiOptimizationScore:m.ai_optimization_score,journeyFlow:m.journey_flow,airline:m.airline,companions:m.companions,route:m.route,departureTime:m.departure_time,arrivalTime:m.arrival_time})),activities:N.activities.map(m=>({id:m.id,name:m.name,provider:m.provider,price:m.price,personalityAlignment:m.personality_alignment,companionMatch:m.companion_match,experienceType:m.experience_type,aiRecommendationRank:m.ai_recommendation_rank,duration:m.duration,category:m.category,description:m.description,highlights:m.highlights})),aggregatedInsights:{totalOptions:N.aggregated_insights.total_options,avgPersonalityMatch:N.aggregated_insights.avg_personality_match,topRecommendationProvider:N.aggregated_insights.top_recommendation_provider,aiProcessingTime:N.aggregated_insights.ai_processing_time,cacheHitRate:N.aggregated_insights.cache_hit_rate,companionOptimization:N.aggregated_insights.companion_optimization},searchMetadata:{companionType:N.search_metadata.companion_type,destination:N.search_metadata.destination,searchTimestamp:N.search_metadata.search_timestamp,providersQueried:N.search_metadata.providers_queried,aiEnhancementEnabled:N.search_metadata.ai_enhancement_enabled}};return n(w),i(m=>[f,...m.slice(0,9)]),X.info("Smart Dreams provider search completed successfully",{totalResults:w.aggregatedInsights.totalOptions,processingTime:w.aggregatedInsights.aiProcessingTime,topProvider:w.aggregatedInsights.topRecommendationProvider}),w}catch(h){const A=h instanceof Error?h.message:"Provider search failed";return b(A),X.error("Smart Dreams provider search failed",h),null}finally{o(!1)}},[]),M=x.useCallback(()=>{n(null),b(null)},[]),p=x.useCallback(()=>{i([])},[]),B=x.useCallback((f,h=5)=>{if(!s)return[];switch(f){case"hotels":return s.hotels.sort((A,u)=>u.aiConfidenceScore-A.aiConfidenceScore).slice(0,h);case"flights":return s.flights.sort((A,u)=>u.aiOptimizationScore-A.aiOptimizationScore).slice(0,h);case"activities":return s.activities.sort((A,u)=>u.aiRecommendationRank-A.aiRecommendationRank).slice(0,h);default:return[]}},[s]),y=x.useCallback(f=>s?{hotels:s.hotels.filter(h=>h.companionSuitability>80),flights:s.flights.filter(h=>h.companions[f]>80),activities:s.activities.filter(h=>h.companionMatch>80)}:{hotels:[],flights:[],activities:[]},[s]),F=x.useCallback(()=>{if(!s)return{};const f={};return[...s.hotels,...s.flights,...s.activities].forEach(h=>{f[h.provider]||(f[h.provider]={hotels:0,flights:0,activities:0,avgScore:0})}),s.hotels.forEach(h=>{f[h.provider].hotels++}),s.flights.forEach(h=>{f[h.provider].flights++}),s.activities.forEach(h=>{f[h.provider].activities++}),Object.keys(f).forEach(h=>{const A=[...s.hotels.filter(N=>N.provider===h),...s.flights.filter(N=>N.provider===h),...s.activities.filter(N=>N.provider===h)],u=A.reduce((N,w)=>{const m=w.aiConfidenceScore||w.aiOptimizationScore||w.aiRecommendationRank||0;return N+m},0);f[h].avgScore=A.length>0?Math.round(u/A.length):0}),f},[s]);return{results:s,loading:a,error:r,searchHistory:g,searchProviders:l,clearResults:M,clearSearchHistory:p,getTopRecommendations:B,getRecommendationsByCompanion:y,getProviderStats:F,hasResults:!!s,totalResults:(s==null?void 0:s.aggregatedInsights.totalOptions)||0,aiProcessingTime:(s==null?void 0:s.aggregatedInsights.aiProcessingTime)||0,topProvider:s==null?void 0:s.aggregatedInsights.topRecommendationProvider}},ns=()=>{const[s,n]=x.useState("my-journey"),[a,o]=x.useState(null),[r,b]=x.useState(null),[g,i]=x.useState(85),[l,M]=x.useState(""),[p,B]=x.useState(!0);Ge({includeAIContext:!0});const{travelDNA:y,intelligentRecommendations:F,predictiveInsights:f,loading:h,analyzeTravelDNA:A,getIntelligentRecommendations:u,getPredictiveInsights:N}=Oe(),{results:w,loading:m,searchProviders:se,getTopRecommendations:U,hasResults:ie,totalResults:ne}=is(),ce=[{type:"solo",name:"Solo Adventure",description:"Just me, my dreams, and endless possibilities",icon:e.jsx(Je,{className:"h-8 w-8 text-purple-500"}),perks:["Complete freedom","Self-discovery"],journeyType:"Soul Quest"},{type:"partner",name:"Romantic Journey",description:"Creating magical memories with my special someone",icon:e.jsx(Y,{className:"h-8 w-8 text-pink-500"}),perks:["Romantic moments","Shared experiences"],journeyType:"Love Story"},{type:"friends",name:"Squad Adventure",description:"Epic adventures with my favorite people",icon:e.jsx(E,{className:"h-8 w-8 text-blue-500"}),perks:["Shared costs","Group activities"],journeyType:"Friendship Quest"},{type:"family",name:"Family Bonding",description:"Building precious family moments together",icon:e.jsx(Ye,{className:"h-8 w-8 text-green-500"}),perks:["Family bonding","Kid-friendly fun"],journeyType:"Family Saga"}],H=[{id:"bali-indonesia",name:"Bali",country:"Indonesia",image:"https://images.pexels.com/photos/261204/pexels-photo-261204.jpeg",price:95,days:7,excitement:92,perfectFor:["Solo soul searching","Romantic getaways"]},{id:"tokyo-japan",name:"Tokyo",country:"Japan",image:"https://images.unsplash.com/photo-1698923824953-a0bf7462e79d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzV8MHwxfHNlYXJjaHwyfHxsdXh1cnklMjB0cmF2ZWwlMjBkZXN0aW5hdGlvbnN8ZW58MHx8fHwxNzU4MzAxMjQ2fDA&ixlib=rb-4.1.0&q=85",price:180,days:5,excitement:95,perfectFor:["Cultural exploration","Food adventures"]},{id:"santorini-greece",name:"Santorini",country:"Greece",image:"https://images.unsplash.com/photo-1552873547-b88e7b2760e2?crop=entropy&cs=srgb&fm=jpg",price:220,days:6,excitement:98,perfectFor:["Romantic escapes","Photography lovers"]}],te=async t=>{const C={id:`journey_${Date.now()}`,title:l||`My ${t.journeyType}`,companion:t,destinations:[],totalDays:0,totalBudget:0,progress:10,excitement:g,achievements:["Journey Starter"]};if(b(C),o(t),p)try{await se({companionType:t.type==="partner"?"romantic":t.type,travelDNA:y,preferences:t.perks})}catch(I){console.error("Enhanced provider search failed:",I)}n("dream-destinations")},K=t=>{if(!r)return;const C={...r,destinations:[...r.destinations,t],totalDays:r.totalDays+t.days,totalBudget:r.totalBudget+t.price*t.days,progress:Math.min(r.progress+25,100),achievements:[...r.achievements,"Dream Collector"]};b(C),i(Math.min(g+5,100)),alert(`🎉 ${t.name} added to your journey! Excitement level: ${g+5}%`)},de=()=>{if(!r)return;const t=`🌟 I'm planning my ${r.title}! ${r.destinations.length} amazing destinations, ${r.totalDays} days of adventure. Join me! 🗺️✈️`;navigator.share?navigator.share({title:r.title,text:t,url:window.location.href}):(navigator.clipboard.writeText(t),alert("Journey details copied to clipboard! 📋"))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-orange-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-green-500 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold",children:"M"})}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Maku"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3 bg-orange-50 px-4 py-2 rounded-full border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse shadow-sm"}),e.jsxs("span",{className:"text-sm font-medium text-orange-700",children:["AI Match: ",y?Math.round(y.confidence_score*100):0,"%"]})]}),e.jsx("div",{className:"w-px h-4 bg-orange-200"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:["Excitement: ",g,"%"]})]}),e.jsx("div",{className:"w-px h-4 bg-orange-200"}),e.jsxs("button",{onClick:()=>B(!p),className:`flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${p?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`AI is currently ${p?"enabled":"disabled"}`,children:[e.jsx(me,{className:`h-3 w-3 ${p?"text-green-500":"text-gray-400"}`}),e.jsxs("span",{children:["AI ",p?"On":"Off"]})]})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(he,{value:s,onValueChange:n,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-6 bg-white shadow-sm border border-orange-100 rounded-xl p-1",children:[e.jsxs(T,{value:"my-journey",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Journey"})]}),e.jsxs(T,{value:"dream-destinations",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Dreams"}),w&&e.jsx("div",{className:"ml-1 bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full font-medium",children:w.hotels.length+w.flights.length+w.activities.length})]}),e.jsxs(T,{value:"ai-intelligence",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"AI DNA"}),y&&e.jsxs("div",{className:"ml-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full font-medium",children:[Math.round(y.confidence_score*100),"%"]})]}),e.jsxs(T,{value:"achievements",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Achievements"})]}),e.jsxs(T,{value:"social-hub",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Social"})]}),e.jsxs(T,{value:"planner",className:"flex items-center space-x-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white text-gray-600 hover:text-orange-500 transition-all duration-200 rounded-lg py-3",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Plan"})]})]}),e.jsx(D,{value:"my-journey",className:"space-y-8 mt-8",children:r?e.jsxs("div",{className:"space-y-8",children:[e.jsx(c,{className:"bg-white shadow-lg border border-green-200 rounded-2xl overflow-hidden",children:e.jsxs(d,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-green-500 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold",children:"M"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:r.title}),e.jsx("p",{className:"text-gray-600",children:a==null?void 0:a.description})]})]}),e.jsxs(S,{className:"bg-gradient-to-r from-orange-500 via-green-500 to-orange-500 hover:from-orange-600 hover:via-green-600 hover:to-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",onClick:de,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Share Journey"]})]}),e.jsxs("div",{className:"mb-6 bg-orange-50 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold",children:"Journey Progress"}),e.jsxs("span",{className:"text-orange-600 font-medium",children:[r.progress,"% Complete"]})]}),e.jsx(G,{value:r.progress,className:"h-3 bg-orange-100"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.destinations.length}),e.jsx("div",{className:"text-sm text-orange-700 font-medium",children:"Dreams Added"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.totalDays}),e.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Total Days"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl border border-yellow-100",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["$",r.totalBudget]}),e.jsx("div",{className:"text-sm text-yellow-700 font-medium",children:"Estimated Cost"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[g,"%"]}),e.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Excitement Level"})]})]})]})}),r.destinations.length>0&&e.jsxs(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[e.jsx($,{children:e.jsxs(z,{className:"text-white flex items-center space-x-2",children:[e.jsx(W,{className:"h-5 w-5 text-purple-400"}),e.jsx("span",{children:"My Dream Destinations"})]})}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.destinations.map((t,C)=>e.jsxs(c,{className:"bg-white/5 border-white/10 overflow-hidden",children:[e.jsx("div",{className:"h-32",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-purple-300",children:[t.days," days"]}),e.jsxs("span",{className:"text-blue-300",children:["$",t.price,"/day"]})]})]})]},C))})})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(c,{className:"bg-white shadow-lg border border-orange-100 rounded-2xl",children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-green-500 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"M"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"What's your dream journey called?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Give your adventure a memorable name"}),e.jsx(De,{placeholder:"My Epic Adventure, Honeymoon Bliss, Squad Goals Trip...",value:l,onChange:t=>M(t.target.value),className:"text-center text-xl bg-orange-50 border-orange-200 text-gray-800 placeholder:text-gray-500 focus:border-orange-400 focus:ring-orange-400 rounded-full py-4 px-6"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Who's joining your adventure?"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Choose your travel style and unlock personalized AI recommendations"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ce.map(t=>e.jsx(c,{className:"group cursor-pointer bg-white shadow-lg border border-orange-100 hover:border-orange-300 hover:shadow-xl transition-all duration-300 hover:scale-105 rounded-2xl overflow-hidden",onClick:()=>te(t),children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx("div",{className:"mb-6 transform group-hover:scale-110 transition-transform duration-300",children:t.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.journeyType}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:t.description}),e.jsx("div",{className:"space-y-2 mb-6",children:t.perks.map((C,I)=>e.jsx(v,{className:"bg-orange-100 text-orange-700 border-orange-200 text-xs px-3 py-1 rounded-full font-medium",children:C},I))}),e.jsx(S,{className:"w-full bg-gradient-to-r from-orange-500 via-green-500 to-orange-500 hover:from-orange-600 hover:via-green-600 hover:to-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>te(t),children:e.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Start Journey"}),e.jsx(W,{className:"h-4 w-4"})]})})]})},t.type))})]})}),e.jsxs(D,{value:"dream-destinations",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Build Your Dream Collection"}),e.jsx("p",{className:"text-purple-200",children:"Add destinations that spark joy and excitement in your journey"}),p&&F.length>0&&e.jsx("div",{className:"mt-4",children:e.jsxs(v,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),F.length," AI-Recommended Destinations Available"]})})]}),p&&F.length>0&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 via-purple-900/50 to-pink-900/50 border border-blue-500/30 backdrop-blur-xl rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(J,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{children:"AI-Powered Perfect Matches"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.slice(0,3).map((t,C)=>e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10 hover:border-blue-400/50 transition-all duration-500",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-bold text-white",children:t.destination_name}),e.jsxs(v,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:[t.recommendation_score,"% Match"]})]}),e.jsxs("p",{className:"text-gray-300 text-sm mb-3",children:[t.country,", ",t.continent]}),t.recommendation_reasons.slice(0,1).map((I,j)=>e.jsx("p",{className:"text-blue-300 text-xs mb-3",children:I.reason_text},j)),e.jsxs(S,{onClick:()=>{const I={id:`ai-${t.destination_name.toLowerCase().replace(" ","-")}`,name:t.destination_name,country:t.country,image:H[C%H.length].image,price:Math.floor(Math.random()*150)+80,days:Math.floor(Math.random()*7)+3,excitement:t.recommendation_score,perfectFor:["AI Recommended","Perfect Match"]};K(I)},className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-sm",disabled:!r,children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),"Add AI Match"]})]})},C))})]})}),ie&&p&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 via-purple-900/50 to-pink-900/50 border border-purple-500/30 backdrop-blur-xl rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-yellow-400"}),e.jsx("span",{children:"Enhanced Provider Recommendations"})]}),e.jsxs("p",{className:"text-purple-200 text-sm",children:[ne," personalized options from ",w==null?void 0:w.searchMetadata.providersQueried.join(", "),"• ",Math.round((w==null?void 0:w.aggregatedInsights.aiProcessingTime)||0),"ms AI processing"]})]}),m&&e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400"}),e.jsx("span",{className:"text-sm",children:"Enhancing results..."})]})]}),U("hotels",3).length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx(Y,{className:"h-4 w-4 text-pink-400"}),e.jsx("span",{children:"Smart Hotel Matches"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:U("hotels",3).map((t,C)=>e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10 hover:border-pink-400/50 transition-all duration-300",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-bold text-white text-sm",children:t.name}),e.jsxs(v,{className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white text-xs",children:[t.aiConfidenceScore,"% AI Match"]})]}),e.jsx("p",{className:"text-gray-300 text-xs mb-2",children:t.location}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-pink-400 font-bold",children:["$",t.price,"/night"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-yellow-400 text-xs ml-1",children:t.rating})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Companion Match: ",t.companionSuitability,"%"]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-1 rounded-full",style:{width:`${t.companionSuitability}%`}})})]}),e.jsxs(S,{onClick:()=>{const I={id:t.id,name:t.location,country:t.location,image:H[C%H.length].image,price:t.price,days:3,excitement:t.aiConfidenceScore,perfectFor:t.recommendationReasons};K(I)},className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white text-xs",disabled:!r,children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Add to Journey"]})]})},t.id))})]}),U("activities",2).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-400"}),e.jsx("span",{children:"Curated Experiences"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:U("activities",2).map(t=>e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10 hover:border-blue-400/50 transition-all duration-300",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-bold text-white text-sm",children:t.name}),e.jsxs(v,{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white text-xs",children:["Rank #",t.aiRecommendationRank]})]}),e.jsx("p",{className:"text-gray-300 text-xs mb-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-blue-400 font-bold",children:["$",t.price]}),e.jsx("span",{className:"text-gray-400 text-xs",children:t.duration})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Experience Match: ",t.companionMatch,"%"]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-1 rounded-full",style:{width:`${t.companionMatch}%`}})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.highlights.slice(0,2).map((C,I)=>e.jsx(v,{variant:"outline",className:"bg-white/5 border-white/20 text-white text-xs",children:C},I))}),e.jsxs(S,{className:"w-full bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white text-xs",disabled:!r,children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Add Experience"]})]})},t.id))})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:H.map(t=>e.jsxs(c,{className:"group overflow-hidden bg-black/40 backdrop-blur-xl border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-[1.02]",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(v,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-lg font-bold",children:[t.excitement,"% ✨"]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:t.name}),e.jsxs("p",{className:"text-purple-200 flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-1"}),t.country]})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:["$",t.price]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["per day • ",t.days," days"]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Perfect for:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.perfectFor.map((C,I)=>e.jsx(v,{variant:"outline",className:"bg-white/5 border-white/20 text-white text-xs",children:C},I))})]}),e.jsxs(S,{onClick:()=>K(t),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",disabled:!r,children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),r?"Add to My Journey":"Start Journey First"]})]})]},t.id))})]}),e.jsxs(D,{value:"ai-intelligence",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your Travel DNA & AI Insights"}),e.jsx("p",{className:"text-purple-200",children:"Discover your unique travel personality and get personalized recommendations"})]}),p?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(ze,{travelDNA:y,loading:h,onRefresh:A})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Fe,{recommendations:F,loading:h,onRefresh:u})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Be,{insights:f,loading:h,onRefresh:N})}),e.jsx("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:e.jsx(Ue,{})})]}):e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(xe,{className:"h-24 w-24 mx-auto mb-6 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"AI Intelligence Disabled"}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"Enable AI Intelligence to unlock personalized travel recommendations, DNA analysis, and predictive insights."}),e.jsxs(S,{onClick:()=>B(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 text-lg",children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),"Enable AI Intelligence"]})]})})]}),e.jsxs(D,{value:"achievements",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your Travel Achievements"}),e.jsx("p",{className:"text-purple-200",children:"Unlock badges, earn points, and level up your journey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border-yellow-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 text-yellow-400"}),e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:(r==null?void 0:r.achievements.length)||0}),e.jsx("div",{className:"text-yellow-200 text-sm",children:"Badges Earned"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-purple-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 text-purple-400"}),e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:((r==null?void 0:r.achievements.length)||0)*250}),e.jsx("div",{className:"text-purple-200 text-sm",children:"Total Points"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-blue-900/50 to-indigo-900/50 border-blue-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(R,{className:"h-12 w-12 mx-auto mb-4 text-blue-400"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-400",children:["Level ",Math.floor(((r==null?void 0:r.achievements.length)||0)/2)+1]}),e.jsx("div",{className:"text-blue-200 text-sm",children:"Dream Explorer"})]})}),e.jsx(c,{className:"bg-gradient-to-r from-green-900/50 to-teal-900/50 border-green-500/30 backdrop-blur-xl text-center",children:e.jsxs(d,{className:"p-6",children:[e.jsx(be,{className:"h-12 w-12 mx-auto mb-4 text-green-400"}),e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[g,"%"]}),e.jsx("div",{className:"text-green-200 text-sm",children:"Excitement"})]})})]}),r&&r.achievements.length>0&&e.jsxs(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[e.jsx($,{children:e.jsx(z,{className:"text-white",children:"Your Achievements"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:r.achievements.map((t,C)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-xl",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full",children:e.jsx(R,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:t}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Congratulations on this milestone!"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-yellow-400 font-bold",children:"+250"}),e.jsx("div",{className:"text-gray-400 text-xs",children:"points"})]})]},C))})})]})]}),e.jsx(D,{value:"social-hub",className:"space-y-8 mt-8",children:e.jsx(ls,{})}),e.jsxs(D,{value:"planner",className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Plan Together"}),e.jsx("p",{className:"text-purple-200",children:"Collaborate with friends, family, or your partner"})]}),e.jsx(c,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx(Q,{className:"h-24 w-24 mx-auto mb-6 text-purple-400"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Collaborative Planning"}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"Invite your travel companions to vote on destinations, share ideas, and build your dream journey together."}),e.jsxs(S,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 text-lg",onClick:()=>alert("Collaborative planning feature coming soon! 🚀"),children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Start Planning Together"]})]})})]})]})})]})},ht=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Re,{}),e.jsx("main",{className:"pt-16",children:e.jsx(ns,{})}),e.jsx(He,{})]});export{ht as default};
