import{c as X,k as Y,b as Z,u as ee,h as se,r as i,j as e,a as g,d as m,B as d}from"./index-DJr1750g-1761372786103.js";import{N as te}from"./Navbar-BsidW7ha-1761372786103.js";import{I as w}from"./input-DqGcWsQw-1761372786103.js";import{S as I,a as P,b as H,c as M,d as l}from"./select-1lOxQt2b-1761372786103.js";import{c as ae}from"./advancedSearchApi-DxlC_EVW-1761372786103.js";import{g as re}from"./aiPersonalizationApi-C_DVsaN--1761372786103.js";import{c as ie}from"./realtimeApi-frLQDsBC-1761372786103.js";import{T as D}from"./test-tube-diagonal-F45Z0YRz-1761372786103.js";import{M as T}from"./map-pin-DCTTjC40-1761372786103.js";import{S as le}from"./search-DPyjr84U-1761372786103.js";import{S as ne}from"./sparkles-1TFqtcdt-1761372786103.js";import{F as ce}from"./filter-DH5HGlJH-1761372786103.js";import{S as $}from"./star-B9LdOWdo-1761372786103.js";import{G as oe}from"./grid-3x3-CVLt7pn--1761372786103.js";import{M as me}from"./map-Bsri5NnO-1761372786103.js";import{H as de}from"./heart-d-L4zGus-1761372786103.js";import{C as xe}from"./coffee-E_rTY2Tj-1761372786103.js";import{C as he}from"./car-DEuF-Qch-1761372786103.js";import{U as pe}from"./utensils-BV5ThklM-1761372786103.js";import{W as ue}from"./wifi-Bm91dMOn-1761372786103.js";import{S as ge}from"./shield-Dyr_tcSc-1761372786103.js";import{T as fe}from"./trending-down-BzBSFI0D-1761372786103.js";import{H as je}from"./hotel-BJHIlrBQ-1761372786103.js";import"./useApiHealth-nqc67E7W-1761372786103.js";import"./avatar-C-jVzCdJ-1761372786103.js";import"./index-DsQq8d_h-1761372786103.js";import"./globe-BIc4cSc9-1761372786103.js";import"./useHealthMonitor-B6XLbbaC-1761372786103.js";import"./useAIIntelligence-u1xm4jYe-1761372786103.js";import"./plane-C31ePVtH-1761372786103.js";import"./chevron-down-9xMs7EAx-1761372786103.js";import"./brain-Cw34cxNH-1761372786103.js";import"./calendar-BHB0CqgJ-1761372786103.js";import"./zap-DVLc29wt-1761372786103.js";import"./users-DVHEI_ct-1761372786103.js";import"./settings-BNbhqb_d-1761372786103.js";import"./user-d1mCht9P-1761372786103.js";import"./index-BdQq_4o_-1761372786103.js";import"./index-BxHCFFya-1761372786103.js";import"./index-8DBfw8dd-1761372786103.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=X("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]),ls=()=>{const[n]=Y(),E=Z(),{user:f}=ee(),{toast:c}=se(),[x,B]=i.useState(n.get("destination")||""),[h,F]=i.useState(n.get("checkin")||""),[p,z]=i.useState(n.get("checkout")||""),[j,V]=i.useState({adults:parseInt(n.get("adults")||"2"),children:parseInt(n.get("children")||"0")}),[k,G]=i.useState(parseInt(n.get("rooms")||"1")),[b,S]=i.useState([]),[N,R]=i.useState(!1),[v,u]=i.useState(null),[C,_]=i.useState("grid"),[t,o]=i.useState({starRating:[],priceRange:{min:0,max:1e3},amenities:[],guestRating:0}),[A,U]=i.useState("price"),[L,W]=i.useState(null),J={wifi:ue,pool:"🏊",gym:be,restaurant:pe,parking:he,breakfast:xe};i.useEffect(()=>{O()},[]);const O=async()=>{try{const s=await re({user_id:"guest",search_context:{type:"hotel",partial_input:x}});W(s)}catch(s){console.error("AI recommendations failed:",s)}},q=async()=>{var s,r;if(!x||!h||!p){c({title:"Missing Information",description:"Please fill in destination and dates",variant:"destructive"});return}R(!0),u(null);try{const a=await ae({destination:x,checkin:h,checkout:p,guests:j,rooms:k,star_rating:t.starRating.length>0?t.starRating:void 0,guest_rating:t.guestRating>0?t.guestRating:void 0,amenities:t.amenities.length>0?t.amenities:void 0,price_range:t.priceRange.max<1e3?t.priceRange:void 0,sort_by:A,sort_order:"asc",page:1,per_page:20});a.success?(S(a.results),a.results.length===0&&u("No hotels found. Try adjusting your filters."),c({title:"Search Complete",description:`Found ${a.results.length} properties`})):u("No hotels found. Please try different search criteria.")}catch(a){console.error("Hotel search error:",a),u(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.detail)||"Search failed. Please try again."),S([]),c({title:"Search Failed",description:"Unable to search hotels. Please try again.",variant:"destructive"})}finally{R(!1)}},K=async s=>{try{await ie({user_id:(f==null?void 0:f.id)||"guest",search_criteria:{type:"hotel",destination:s.name,dates:{checkin:h,checkout:p}},target_price:s.price_per_night*.9,currency:s.currency}),c({title:"Price Alert Created",description:`We'll notify you when ${s.name} drops below $${Math.round(s.price_per_night*.9)}`})}catch(r){console.error("Price alert failed:",r),c({title:"Alert Failed",description:"Unable to create price alert. Please try again.",variant:"destructive"})}},Q=s=>{sessionStorage.setItem("selectedHotel",JSON.stringify(s)),E(`/hotels/checkout?hotelId=${s.hotel_id}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(te,{}),e.jsx("section",{className:"bg-gradient-to-br from-orange-600 via-pink-600 to-purple-700 pt-24 pb-12 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:e.jsxs(g,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Real Provider Test Data"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Discover Perfect Stays"}),e.jsx("p",{className:"text-xl text-white/90",children:"Compare hotels from Expedia, Amadeus, RateHawk & Nuitée"})]}),e.jsxs(m,{className:"p-6 shadow-2xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Destination"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(w,{placeholder:"City, hotel name, or landmark",value:x,onChange:s=>B(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-in"}),e.jsx(w,{type:"date",value:h,onChange:s=>F(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-out"}),e.jsx(w,{type:"date",value:p,onChange:s=>z(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Guests & Rooms"}),e.jsxs(I,{value:`${j.adults},${k}`,onValueChange:s=>{const[r,a]=s.split(",");V({...j,adults:parseInt(r)}),G(parseInt(a))},children:[e.jsx(P,{children:e.jsx(H,{})}),e.jsxs(M,{children:[e.jsx(l,{value:"1,1",children:"1 Adult, 1 Room"}),e.jsx(l,{value:"2,1",children:"2 Adults, 1 Room"}),e.jsx(l,{value:"3,1",children:"3 Adults, 1 Room"}),e.jsx(l,{value:"4,2",children:"4 Adults, 2 Rooms"})]})]})]})]}),e.jsx(d,{onClick:q,disabled:N,className:"w-full bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-700 hover:to-pink-700",children:N?"Searching...":e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Search Hotels"]})}),L&&e.jsxs("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"AI Recommendation"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"Based on your search, try filtering for 4+ star hotels with free cancellation for best value!"})]})]})]})}),e.jsx("section",{className:"py-12 px-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:e.jsxs(m,{className:"p-6 sticky top-6",children:[e.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),"Filters"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Star Rating"}),e.jsx("div",{className:"space-y-2",children:[5,4,3].map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.starRating.includes(s),onChange:r=>{r.target.checked?o({...t,starRating:[...t.starRating,s]}):o({...t,starRating:t.starRating.filter(a=>a!==s)})}}),e.jsx("div",{className:"flex",children:Array.from({length:s}).map((r,a)=>e.jsx($,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},a))})]},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Price per Night"}),e.jsx("input",{type:"range",min:"0",max:"1000",step:"50",value:t.priceRange.max,onChange:s=>o({...t,priceRange:{...t.priceRange,max:parseInt(s.target.value)}}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"$0"}),e.jsxs("span",{children:["$",t.priceRange.max]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:["wifi","pool","gym","restaurant","parking"].map(s=>e.jsxs("label",{className:"flex items-center gap-2 capitalize",children:[e.jsx("input",{type:"checkbox",checked:t.amenities.includes(s),onChange:r=>{r.target.checked?o({...t,amenities:[...t.amenities,s]}):o({...t,amenities:t.amenities.filter(a=>a!==s)})}}),e.jsx("span",{className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Sort By"}),e.jsxs(I,{value:A,onValueChange:s=>U(s),children:[e.jsx(P,{children:e.jsx(H,{})}),e.jsxs(M,{children:[e.jsx(l,{value:"price",children:"Best Price"}),e.jsx(l,{value:"rating",children:"Top Rated"}),e.jsx(l,{value:"distance",children:"Nearest to Center"})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:[b.length," properties found"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:C==="grid"?"default":"outline",size:"sm",onClick:()=>_("grid"),children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx(d,{variant:C==="map"?"default":"outline",size:"sm",onClick:()=>_("map"),children:e.jsx(me,{className:"w-4 h-4"})})]})]}),v&&e.jsx(m,{className:"p-6 mb-6 border-red-200 bg-red-50",children:e.jsx("p",{className:"text-red-700",children:v})}),e.jsx("div",{className:"space-y-4",children:b.map(s=>e.jsx(m,{className:"overflow-hidden hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"relative w-full md:w-64 h-48 md:h-auto bg-gray-200 flex-shrink-0",children:[e.jsx("img",{src:s.images[0]||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400",alt:s.name,className:"w-full h-full object-cover"}),e.jsxs(g,{className:"absolute top-3 left-3 bg-blue-600 text-white",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),s.provider]}),e.jsx("button",{className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-white/90 flex items-center justify-center hover:bg-white",children:e.jsx(de,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl mb-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex",children:Array.from({length:s.star_rating}).map((r,a)=>e.jsx($,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},a))}),e.jsx(g,{variant:"outline",className:"text-xs capitalize",children:s.property_type})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"bg-blue-600 text-white px-2 py-1 rounded font-bold",children:s.guest_rating}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold",children:"Excellent"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.review_count," reviews"]})]})]})})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3 flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),s.location.address," • ",s.distance_from_center_km," km from center"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.amenities.slice(0,5).map((r,a)=>{const y=J[r.toLowerCase()]||ge;return e.jsxs(g,{variant:"outline",className:"text-xs",children:[typeof y=="string"?y:e.jsx(y,{className:"w-3 h-3 mr-1"}),r]},a)})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Starting from"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["$",s.price_per_night]}),e.jsx("p",{className:"text-xs text-gray-500",children:"per night"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>K(s),children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"Alert"]}),e.jsx(d,{onClick:()=>Q(s),className:"bg-gradient-to-r from-orange-600 to-pink-600",children:"View Details"})]})]})]})]})},s.hotel_id))}),b.length===0&&!N&&!v&&e.jsxs(m,{className:"p-12 text-center",children:[e.jsx(je,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to find your perfect stay?"}),e.jsx("p",{className:"text-gray-600",children:"Enter your destination and dates to search across multiple providers"})]})]})]})})}),e.jsx("section",{className:"py-12 px-6 bg-orange-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"About Hotel Data"}),e.jsx("p",{className:"text-sm text-gray-700",children:"All hotels shown are from real provider test/sandbox APIs (Expedia, Amadeus, RateHawk, Nuitée). Properties, pricing, and availability reflect actual market data. As a pre-revenue startup, we're building authentic integrations that will go live at launch."})]})})]})};export{ls as default};
