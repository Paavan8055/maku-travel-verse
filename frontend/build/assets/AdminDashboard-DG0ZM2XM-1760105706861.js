import{r as o,j as e,a as g,d as C,e as f,b,B as v,L as T,o as G,w as n,s as D,m as k}from"./index-DEkL_TXt-1760105706861.js";import{I as E}from"./input-CbzmlZS--1760105706861.js";import{T as O}from"./textarea-gcLxSGiG-1760105706861.js";import{L as N}from"./label-nH8vG68I-1760105706861.js";import{S as H,a as P,b as R,c as $,d as z}from"./select-UoNA28d3-1760105706861.js";import{S as y}from"./sparkles-BCEKbLRF-1760105706861.js";import{C as A}from"./copy-ClQ8WRGQ-1760105706861.js";import"./index-BdQq_4o_-1760105706861.js";import"./index-BkqMNcx6-1760105706861.js";import"./chevron-down-C6tH5CZr-1760105706861.js";const B=()=>{const[r,i]=o.useState(""),[l,w]=o.useState({}),[m,p]=o.useState(!1),[c,u]=o.useState(""),[S,h]=o.useState(!1),d=[{value:"generate-destination",label:"Generate Destination Guide",fields:["destination"]},{value:"create-itinerary",label:"Create Itinerary",fields:["destination","days"]},{value:"generate-hotel-desc",label:"Generate Hotel Description",fields:["hotelName","location"]},{value:"travel-tips",label:"Travel Tips",fields:["destination"]},{value:"test-prompt",label:"Test Custom Prompt",fields:["prompt"]}],x=(t,s)=>{w(a=>({...a,[t]:s}))},F=async()=>{if(!r){n.error("Please select an operation");return}const t=d.find(a=>a.value===r),s=(t==null?void 0:t.fields.filter(a=>!l[a]))||[];if(s.length>0){n.error(`Please fill in: ${s.join(", ")}`);return}p(!0),u("");try{const{data:a,error:j}=await D.functions.invoke("gemini-cli-operations",{body:{operation:r,data:l}});if(j)throw j;if(a.success)u(a.content),n.success("Content generated successfully!");else throw new Error(a.error)}catch(a){console.error("Error calling Gemini CLI:",a),n.error("Failed to generate content")}finally{p(!1)}},I=async()=>{try{await navigator.clipboard.writeText(c),h(!0),n.success("Copied to clipboard!"),setTimeout(()=>h(!1),2e3)}catch{n.error("Failed to copy to clipboard")}},L=()=>{const t=d.find(s=>s.value===r);return t?t.fields.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:s,className:"capitalize",children:s==="hotelName"?"Hotel Name":s==="days"?"Number of Days":s}),s==="prompt"?e.jsx(O,{id:s,placeholder:`Enter your custom ${s}...`,value:l[s]||"",onChange:a=>x(s,a.target.value),rows:3}):e.jsx(E,{id:s,placeholder:`Enter ${s}...`,value:l[s]||"",onChange:a=>x(s,a.target.value),type:s==="days"?"number":"text"})]},s)):null};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Gemini CLI Operations"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"operation",children:"Operation"}),e.jsxs(H,{value:r,onValueChange:i,children:[e.jsx(P,{children:e.jsx(R,{placeholder:"Select an operation..."})}),e.jsx($,{children:d.map(t=>e.jsx(z,{value:t.value,children:t.label},t.value))})]})]}),L(),e.jsx(v,{onClick:F,disabled:m||!r,className:"w-full",children:m?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Generate Content"]})})]})]}),c&&e.jsxs(g,{children:[e.jsxs(C,{className:"flex flex-row items-center justify-between",children:[e.jsx(f,{children:"Generated Content"}),e.jsx(v,{variant:"outline",size:"sm",onClick:I,className:"flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4"}),"Copy"]})})]}),e.jsx(b,{children:e.jsx("div",{className:"bg-muted p-4 rounded-lg",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:c})})})]})]})},Z=()=>{const i=k().pathname.includes("/testing");return e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),i?e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Gemini CLI Testing"}),e.jsx(B,{})]}):e.jsx("p",{className:"text-muted-foreground",children:"Navigate to operations/testing to use Gemini CLI tools."})]})})};export{Z as default};
