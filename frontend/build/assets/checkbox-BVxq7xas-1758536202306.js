import{r as i,j as s,aj as z,aD as H,aB as _,az as G,ai as S,ak as N,aE as K,af as w,ac as U}from"./index-BZMa5YK6-1758536202306.js";import{u as X}from"./index-CKSKFedZ-1758536202306.js";var y="Checkbox",[$]=z(y),[J,j]=$(y);function Q(t){const{__scopeCheckbox:a,checked:o,children:f,defaultChecked:r,disabled:e,form:d,name:b,onCheckedChange:u,required:m,value:k="on",internal_do_not_use_render:l}=t,[p,v]=G({prop:o,defaultProp:r!=null?r:!1,onChange:u,caller:y}),[x,C]=i.useState(null),[g,n]=i.useState(null),c=i.useRef(!1),E=x?!!d||!!x.closest("form"):!0,R={checked:p,disabled:e,setChecked:v,control:x,setControl:C,name:b,form:d,value:k,hasConsumerStoppedPropagationRef:c,required:m,defaultChecked:h(r)?!1:r,isFormControl:E,bubbleInput:g,setBubbleInput:n};return s.jsx(J,{scope:a,...R,children:V(l)?l(R):f})}var B="CheckboxTrigger",M=i.forwardRef(({__scopeCheckbox:t,onKeyDown:a,onClick:o,...f},r)=>{const{control:e,value:d,disabled:b,checked:u,required:m,setControl:k,setChecked:l,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:x}=j(B,t),C=S(r,k),g=i.useRef(u);return i.useEffect(()=>{const n=e==null?void 0:e.form;if(n){const c=()=>l(g.current);return n.addEventListener("reset",c),()=>n.removeEventListener("reset",c)}},[e,l]),s.jsx(_.button,{type:"button",role:"checkbox","aria-checked":h(u)?"mixed":u,"aria-required":m,"data-state":F(u),"data-disabled":b?"":void 0,disabled:b,value:d,...f,ref:C,onKeyDown:N(a,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:N(o,n=>{l(c=>h(c)?!0:!c),x&&v&&(p.current=n.isPropagationStopped(),p.current||n.stopPropagation())})})});M.displayName=B;var I=i.forwardRef((t,a)=>{const{__scopeCheckbox:o,name:f,checked:r,defaultChecked:e,required:d,disabled:b,value:u,onCheckedChange:m,form:k,...l}=t;return s.jsx(Q,{__scopeCheckbox:o,checked:r,defaultChecked:e,disabled:b,required:d,onCheckedChange:m,name:f,form:k,value:u,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(M,{...l,ref:a,__scopeCheckbox:o}),p&&s.jsx(D,{__scopeCheckbox:o})]})})});I.displayName=y;var T="CheckboxIndicator",q=i.forwardRef((t,a)=>{const{__scopeCheckbox:o,forceMount:f,...r}=t,e=j(T,o);return s.jsx(H,{present:f||h(e.checked)||e.checked===!0,children:s.jsx(_.span,{"data-state":F(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...t.style}})})});q.displayName=T;var A="CheckboxBubbleInput",D=i.forwardRef(({__scopeCheckbox:t,...a},o)=>{const{control:f,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:d,required:b,disabled:u,name:m,value:k,form:l,bubbleInput:p,setBubbleInput:v}=j(A,t),x=S(o,v),C=X(e),g=K(f);i.useEffect(()=>{const c=p;if(!c)return;const E=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(E,"checked").set,L=!r.current;if(C!==e&&P){const O=new Event("click",{bubbles:L});c.indeterminate=h(e),P.call(c,h(e)?!1:e),c.dispatchEvent(O)}},[p,C,e,r]);const n=i.useRef(h(e)?!1:e);return s.jsx(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d!=null?d:n.current,required:b,disabled:u,name:m,value:k,form:l,...a,tabIndex:-1,ref:x,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=A;function V(t){return typeof t=="function"}function h(t){return t==="indeterminate"}function F(t){return h(t)?"indeterminate":t?"checked":"unchecked"}const W=i.forwardRef(({className:t,...a},o)=>s.jsx(I,{ref:o,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:s.jsx(q,{className:w("flex items-center justify-center text-current"),children:s.jsx(U,{className:"h-4 w-4"})})}));W.displayName=I.displayName;export{W as C};
