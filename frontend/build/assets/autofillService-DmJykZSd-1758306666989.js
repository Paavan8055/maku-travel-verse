import{s as d,l as _}from"./index-B3Fp9pX--1758306666989.js";async function h(e){const{data:s,error:r}=await d.from("user_preferences").select("*").eq("profile_id",e).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return s}async function g(e){const{data:s,error:r}=await d.from("passport_info").select("*").eq("user_id",e).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return s}const S=async e=>{try{const[s,r]=await Promise.all([h(e),g(e)]);return{preferences:s||{},passport:r||{},hasStoredData:!!(s||r)}}catch(s){return _.error("Error loading user stored data:",s),{preferences:{},passport:{},hasStoredData:!1}}},y=e=>{var s,r,o,t,a,p,n,i,c,f,l;return{title:((s=e.passport)==null?void 0:s.gender)==="F"?"MRS":"MR",firstName:((o=(r=e.passport)==null?void 0:r.first_name)==null?void 0:o.toUpperCase())||"",lastName:((a=(t=e.passport)==null?void 0:t.last_name)==null?void 0:a.toUpperCase())||"",dateOfBirth:((p=e.passport)==null?void 0:p.date_of_birth)||"",nationality:((n=e.passport)==null?void 0:n.nationality)||"",idDocument:((i=e.passport)==null?void 0:i.passport_number)||"",email:((c=e.preferences)==null?void 0:c.email)||"",phone:((f=e.preferences)==null?void 0:f.phone)||"",specialRequests:((l=e.preferences)==null?void 0:l.special_requests)||"",acknowledge:!1}},w=e=>{var s,r,o,t,a,p,n,i,c,f,l,m;return{title:((s=e.passport)==null?void 0:s.gender)==="F"?"Mrs":"Mr",firstName:((o=(r=e.passport)==null?void 0:r.first_name)==null?void 0:o.toUpperCase())||"",lastName:((a=(t=e.passport)==null?void 0:t.last_name)==null?void 0:a.toUpperCase())||"",email:((p=e.preferences)==null?void 0:p.email)||"",phone:((n=e.preferences)==null?void 0:n.phone)||"",arrivalTime:((i=e.preferences)==null?void 0:i.preferred_arrival_time)||"",roomPreferences:((c=e.preferences)==null?void 0:c.room_preferences)||"",specialRequests:((f=e.preferences)==null?void 0:f.special_requests)||"",smsNotifications:((l=e.preferences)==null?void 0:l.sms_notifications)||!1,emailUpdates:((m=e.preferences)==null?void 0:m.email_updates)!==!1,acknowledgment:!1}},U={loadUserStoredData:S,userDataToPersonalForm:y,userDataToHotelForm:w};export{U as a};
