import{c as se,j as e,d as o,e as h,B as p,f as b,g as _,a as i,i as w,p as ae,R as k,P as B,r as y,T as W,A as te,v as re,q as le,X as ne}from"./index-DlBCXUos-1761376354852.js";import{B as F}from"./brain-CCptSelB-1761376354852.js";import{C as A}from"./calendar-DogrcAi5-1761376354852.js";import{U as ie}from"./user-DLeFmRLS-1761376354852.js";import{U as $}from"./users-DyysgK2H-1761376354852.js";import{A as H}from"./activity-DzT-7KJT-1761376354852.js";import{T as Y}from"./trending-up-BwBKPuiF-1761376354852.js";import{I as V}from"./input-Y-VHmSob-1761376354852.js";import{S as P,a as L,b as O,c as R,d}from"./select-B_z6eHpW-1761376354852.js";import{T as C}from"./target-BC6J2rmf-1761376354852.js";import{S as Z}from"./search-BRSR8ba2-1761376354852.js";import{M as q}from"./map-pin-CeXuAAjT-1761376354852.js";import{C as U}from"./clock-CaO39QnL-1761376354852.js";import{L as z}from"./lightbulb-DmIcIKaH-1761376354852.js";import{H as ce}from"./heart-D0mi5NJ3-1761376354852.js";import{M as de}from"./message-circle-C9C-SpqW-1761376354852.js";import{E as xe}from"./external-link-CSECX37b-1761376354852.js";import{D as M}from"./dollar-sign-BK3ehG-P-1761376354852.js";import{S as G}from"./star-BVRg1mYA-1761376354852.js";import{S as oe}from"./sparkles-CFEDxSzY-1761376354852.js";import{C as me}from"./circle-check-big-C0_G-q_f-1761376354852.js";import{A as K}from"./arrow-right-CzAUsxWB-1761376354852.js";import{T as he}from"./trending-down-D4ZzgCI2-1761376354852.js";import{Z as E}from"./zap-CHHh4SfC-1761376354852.js";import{P as je}from"./plus-Bh-qtZjh-1761376354852.js";import{P as pe}from"./plane-D38CmDBk-1761376354852.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=se("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),ge=s=>({cultural_explorer:"🏛️",adventurer:"🏔️",luxury_seeker:"✨",budget_traveler:"🎒",photographer:"📸",foodie:"🍜",relaxation_seeker:"🏖️",social_explorer:"👥"})[s]||"🌍",Ne=s=>({cultural_explorer:"You love discovering history, art, and local traditions",adventurer:"You seek thrilling experiences and outdoor challenges",luxury_seeker:"You prefer premium experiences and high-end accommodations",budget_traveler:"You are skilled at finding great value and authentic experiences",photographer:"You travel to capture stunning visuals and unique perspectives",foodie:"You explore destinations through their culinary landscapes",relaxation_seeker:"You travel to unwind and rejuvenate",social_explorer:"You love meeting people and experiencing social connections"})[s]||"You have a unique travel personality",fe=s=>({adventure:e.jsx("span",{className:"text-red-500",children:"⛰️"}),culture:e.jsx("span",{className:"text-purple-500",children:"🏛️"}),relaxation:e.jsx("span",{className:"text-blue-500",children:"🏖️"}),photography:e.jsx("span",{className:"text-yellow-500",children:"📸"}),food:e.jsx("span",{className:"text-orange-500",children:"🍜"}),nature:e.jsx("span",{className:"text-green-500",children:"🌿"}),luxury:e.jsx("span",{className:"text-pink-500",children:"✨"}),budget:e.jsx("span",{className:"text-gray-500",children:"💰"}),social:e.jsx("span",{className:"text-indigo-500",children:"👥"}),spiritual:e.jsx("span",{className:"text-violet-500",children:"🧘"})})[s]||e.jsx("span",{children:"🌍"}),ve=s=>{switch(s){case"increasing":return e.jsx(Y,{className:"h-3 w-3 text-green-500"});case"decreasing":return e.jsx(Y,{className:"h-3 w-3 text-red-500 rotate-180"});default:return e.jsx(H,{className:"h-3 w-3 text-gray-500"})}},Je=({travelDNA:s,loading:n,onRefresh:N})=>!s&&!n?e.jsx(o,{className:"max-w-4xl mx-auto",children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(F,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Travel DNA Analysis Yet"}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Let our AI analyze your travel preferences and behavior to create your personalized Travel DNA profile."}),e.jsxs(p,{onClick:N,disabled:n,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Analyze My Travel DNA"]})]})}):n?e.jsx(o,{className:"max-w-4xl mx-auto",children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin mb-4",children:e.jsx(F,{className:"h-16 w-16 text-blue-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Analyzing Your Travel DNA"}),e.jsx("p",{className:"text-gray-500 text-center",children:"Our AI is processing your travel patterns, preferences, and social connections..."})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(o,{children:e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full text-white text-3xl",children:ge(s.primary_type)})}),e.jsxs(_,{className:"text-2xl flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"capitalize",children:s.primary_type.replace("_"," ")}),e.jsxs(i,{variant:"secondary",className:"text-sm",children:[Math.round(s.confidence_score*100),"% Match"]})]}),e.jsx(w,{className:"text-lg max-w-2xl mx-auto",children:Ne(s.primary_type)}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{children:["Analyzed ",new Date(s.last_analyzed).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs("span",{children:["Version ",s.analysis_version]})]}),e.jsxs(p,{variant:"ghost",size:"sm",onClick:N,disabled:n,children:[e.jsx(k,{className:`h-4 w-4 mr-1 ${n?"animate-spin":""}`}),"Refresh"]})]})]})}),e.jsxs(o,{children:[e.jsxs(b,{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Personality Factors"})]}),e.jsx(w,{children:"Key elements that define your travel preferences and behavior"})]}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.personality_factors.map((a,j)=>e.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[fe(a.factor),e.jsx("span",{className:"font-medium capitalize",children:a.factor})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[ve(a.trend),e.jsxs(i,{variant:"outline",className:"text-xs",children:[Math.round(a.confidence*100),"% confident"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Influence Weight"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(a.weight*100),"%"]})]}),e.jsx(B,{value:a.weight*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Source: ",a.source.replace("_"," ")]}),e.jsxs("span",{children:["Trend: ",a.trend]})]})]})]},j))})})]}),s.social_influence_factors.length>0&&e.jsxs(o,{children:[e.jsxs(b,{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Social Influences"})]}),e.jsx(w,{children:"How your travel connections and community shape your preferences"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:s.social_influence_factors.map((a,j)=>e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium capitalize",children:a.factor_type.replace("_"," ")})]}),e.jsxs(i,{variant:"outline",className:"bg-white",children:[Math.round(a.confidence*100),"% confident"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Influence Strength:"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(B,{value:a.influence_strength*100,className:"flex-1 h-2"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(a.influence_strength*100),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Connected Users:"}),e.jsx("div",{className:"mt-1",children:e.jsxs(i,{variant:"secondary",className:"text-xs",children:[a.source_users.length," connections"]})})]})]}),a.destinations_influenced.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Influenced Destinations:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[a.destinations_influenced.slice(0,5).map((u,g)=>e.jsx(i,{variant:"outline",className:"text-xs capitalize",children:u},g)),a.destinations_influenced.length>5&&e.jsxs(i,{variant:"outline",className:"text-xs",children:["+",a.destinations_influenced.length-5," more"]})]})]})]},j))})})]}),s.behavioral_patterns.length>0&&e.jsxs(o,{children:[e.jsxs(b,{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"Behavioral Patterns"})]}),e.jsx(w,{children:"Insights from your browsing and interaction patterns"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:s.behavioral_patterns.map((a,j)=>e.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium capitalize",children:a.pattern_type.replace("_"," ")})]}),e.jsxs(i,{variant:"outline",className:"bg-white",children:[Math.round(a.strength*100),"% strength"]})]}),a.pattern_data.peak_browsing_hours&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Peak Activity Hours:"}),e.jsx("div",{className:"flex space-x-1 mt-1",children:a.pattern_data.peak_browsing_hours.map((u,g)=>e.jsxs(i,{variant:"secondary",className:"text-xs",children:[u,":00"]},g))})]}),a.pattern_data.average_session_duration&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Avg Session:"}),e.jsx("div",{className:"mt-1",children:e.jsxs(i,{variant:"secondary",className:"text-xs",children:[a.pattern_data.average_session_duration," min"]})})]})]}),a.pattern_data.preferred_content_types&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Preferred Content:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.pattern_data.preferred_content_types.map((u,g)=>e.jsx(i,{variant:"outline",className:"text-xs capitalize",children:u.replace("_"," ")},g))})]})]},j))})})]})]}),ye=s=>({personality_match:e.jsx(C,{className:"h-4 w-4 text-blue-500"}),social_influence:e.jsx($,{className:"h-4 w-4 text-green-500"}),seasonal_optimal:e.jsx(A,{className:"h-4 w-4 text-orange-500"}),price_opportunity:e.jsx(M,{className:"h-4 w-4 text-purple-500"}),trending:e.jsx(Y,{className:"h-4 w-4 text-pink-500"}),rare_find:e.jsx(oe,{className:"h-4 w-4 text-yellow-500"})})[s]||e.jsx(G,{className:"h-4 w-4 text-gray-500"}),be=s=>s>=80?"text-red-500 bg-red-50 border-red-200":s>=60?"text-orange-500 bg-orange-50 border-orange-200":s>=40?"text-yellow-500 bg-yellow-50 border-yellow-200":"text-green-500 bg-green-50 border-green-200",_e=s=>{const n=[];return s.friends_visited_count>0&&n.push(`${s.friends_visited_count} friends visited`),s.friends_planning_count>0&&n.push(`${s.friends_planning_count} friends planning`),n.length===0&&n.push(`${s.social_recommendation_score}% community match`),n.join(" • ")},es=({recommendations:s,loading:n,onRefresh:N})=>{const[a,j]=y.useState(""),[u,g]=y.useState("score"),[f,I]=y.useState("all"),[l,S]=y.useState(null),c=s.filter(t=>{const m=t.destination_name.toLowerCase().includes(a.toLowerCase())||t.country.toLowerCase().includes(a.toLowerCase());return f==="all"?m:f==="high_score"?m&&t.recommendation_score>=80:f==="urgent"?m&&t.urgency_score>=60:f==="social"?m&&(t.social_proof.friends_visited_count>0||t.social_proof.friends_planning_count>0):m}).sort((t,m)=>{switch(u){case"score":return m.recommendation_score-t.recommendation_score;case"urgency":return m.urgency_score-t.urgency_score;case"social":return m.social_proof.social_recommendation_score-t.social_proof.social_recommendation_score;case"alphabetical":return t.destination_name.localeCompare(m.destination_name);default:return 0}});return n?e.jsx(o,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin mb-4",children:e.jsx(C,{className:"h-16 w-16 text-blue-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Loading AI Recommendations"}),e.jsx("p",{className:"text-gray-500 text-center",children:"Our AI is analyzing destinations that match your travel DNA..."})]})}):s.length===0?e.jsx(o,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(C,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Recommendations Yet"}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Let our AI analyze your preferences to generate personalized destination recommendations."}),e.jsxs(p,{onClick:N,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Generate Recommendations"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-6 w-6 text-blue-500"}),e.jsx("span",{children:"AI-Powered Recommendations"}),e.jsxs(i,{variant:"secondary",children:[s.length," destinations"]})]}),e.jsx(w,{children:"Personalized suggestions based on your travel DNA and real-time insights"})]}),e.jsxs(p,{onClick:N,disabled:n,variant:"outline",size:"sm",children:[e.jsx(k,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(V,{placeholder:"Search destinations or countries...",value:a,onChange:t=>j(t.target.value),className:"pl-10"})]}),e.jsxs(P,{value:u,onValueChange:g,children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(O,{placeholder:"Sort by..."})}),e.jsxs(R,{children:[e.jsx(d,{value:"score",children:"AI Score"}),e.jsx(d,{value:"urgency",children:"Urgency"}),e.jsx(d,{value:"social",children:"Social Proof"}),e.jsx(d,{value:"alphabetical",children:"A-Z"})]})]}),e.jsxs(P,{value:f,onValueChange:I,children:[e.jsx(L,{className:"w-[150px]",children:e.jsx(O,{placeholder:"Filter..."})}),e.jsxs(R,{children:[e.jsx(d,{value:"all",children:"All"}),e.jsx(d,{value:"high_score",children:"High Score (80+)"}),e.jsx(d,{value:"urgent",children:"Urgent"}),e.jsx(d,{value:"social",children:"Social Proof"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{children:["Showing ",c.length," of ",s.length," recommendations"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Avg Score: ",Math.round(c.reduce((t,m)=>t+m.recommendation_score,0)/c.length||0)]}),e.jsxs("span",{children:["High Urgency: ",c.filter(t=>t.urgency_score>=60).length]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((t,m)=>e.jsxs(o,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx(b,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(_,{className:"text-lg flex items-center space-x-2",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:t.destination_name})]}),e.jsxs(w,{className:"mt-1",children:[t.country,", ",t.continent]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx(i,{variant:"secondary",className:"text-lg font-bold",children:t.recommendation_score}),t.urgency_score>50&&e.jsxs(i,{variant:"outline",className:`text-xs ${be(t.urgency_score)}`,children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),"Urgent"]})]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Why this matches you:"}),t.recommendation_reasons.slice(0,2).map((v,T)=>e.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[ye(v.reason_type),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-700",children:v.reason_text}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(B,{value:v.confidence*100,className:"flex-1 h-1"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(v.confidence*100),"%"]})]})]})]},T))]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(A,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Best Time to Visit"})]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"capitalize",children:t.optimal_timing.best_season}),t.optimal_timing.price_optimal_window&&e.jsxs("span",{children:[" • Save ",t.optimal_timing.price_optimal_window.savings_percentage,"%"]})]})]}),(t.social_proof.friends_visited_count>0||t.social_proof.friends_planning_count>0||t.social_proof.social_recommendation_score>50)&&e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx($,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Social Connections"})]}),e.jsx("p",{className:"text-sm text-green-700",children:_e(t.social_proof)})]}),t.ai_insights.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center space-x-1",children:[e.jsx(z,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:"AI Insights"})]}),t.ai_insights.slice(0,1).map((v,T)=>e.jsxs("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[e.jsx("p",{className:"text-yellow-800",children:v.insight_text}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs(i,{variant:"outline",className:"text-xs bg-white",children:[Math.round(v.confidence*100),"% confident"]}),v.actionable&&e.jsx(i,{variant:"outline",className:"text-xs bg-white text-green-600",children:"Actionable"})]})]},T))]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[e.jsxs(p,{variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Add to Dreams"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(xe,{className:"h-4 w-4"})})]})]}),t.price_insights.length>0&&e.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(M,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Price Alert"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:t.price_insights[0].action_recommendation})]})]})]},m))}),c.length===0&&a&&e.jsx(o,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Z,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No matches found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Try adjusting your search terms or filters to see more recommendations."}),e.jsx(p,{variant:"outline",onClick:()=>{j(""),I("all")},children:"Clear Filters"})]})})]})},we=s=>({price_alert:e.jsx(M,{className:"h-5 w-5 text-green-500"}),next_dream_prediction:e.jsx(G,{className:"h-5 w-5 text-purple-500"}),optimal_booking_window:e.jsx(A,{className:"h-5 w-5 text-blue-500"}),trend_prediction:e.jsx(Y,{className:"h-5 w-5 text-orange-500"}),social_recommendation:e.jsx(C,{className:"h-5 w-5 text-pink-500"})})[s]||e.jsx(z,{className:"h-5 w-5 text-yellow-500"}),Ce=s=>{switch(s){case"critical":return"border-red-200 bg-red-50";case"high":return"border-orange-200 bg-orange-50";case"medium":return"border-yellow-200 bg-yellow-50";default:return"border-blue-200 bg-blue-50"}},Se=s=>({book_now:e.jsx(E,{className:"h-4 w-4 text-green-500"}),wait_for_price_drop:e.jsx(he,{className:"h-4 w-4 text-blue-500"}),add_to_dreams:e.jsx(G,{className:"h-4 w-4 text-purple-500"}),share_with_friends:e.jsx(C,{className:"h-4 w-4 text-pink-500"}),research_more:e.jsx(z,{className:"h-4 w-4 text-yellow-500"})})[s]||e.jsx(K,{className:"h-4 w-4 text-gray-500"}),ss=({insights:s,loading:n,onRefresh:N})=>{const[a,j]=y.useState(null),u=s.sort((l,S)=>{const c={critical:4,high:3,medium:2,low:1};return c[S.urgency]-c[l.urgency]||S.confidence-l.confidence}),g=s.filter(l=>l.urgency==="critical"),f=s.filter(l=>l.urgency==="high"),I=s.reduce((l,S)=>l+(S.predicted_value||0),0);return n?e.jsx(o,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin mb-4",children:e.jsx(z,{className:"h-16 w-16 text-blue-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Generating Predictive Insights"}),e.jsx("p",{className:"text-gray-500 text-center",children:"Our AI is analyzing trends and patterns to predict future opportunities..."})]})}):s.length===0?e.jsx(o,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(z,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Insights Available"}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"AI predictions are generated based on your travel patterns and market data. Check back soon for new insights."}),e.jsxs(p,{onClick:N,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Generate Insights"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-6 w-6 text-blue-500"}),e.jsx("span",{children:"Predictive Insights"}),e.jsxs(i,{variant:"secondary",children:[s.length," insights"]})]}),e.jsx(w,{children:"AI-powered predictions to optimize your travel planning and savings"})]}),e.jsxs(p,{onClick:N,disabled:n,variant:"outline",size:"sm",children:[e.jsx(k,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Total Insights"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(z,{className:"h-8 w-8 text-blue-200"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Critical"}),e.jsx("p",{className:"text-2xl font-bold",children:g.length})]}),e.jsx(W,{className:"h-8 w-8 text-red-200"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),e.jsx(U,{className:"h-8 w-8 text-orange-200"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Potential Savings"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",I]})]}),e.jsx(M,{className:"h-8 w-8 text-green-200"})]})})]}),g.length>0&&e.jsxs(te,{variant:"destructive",className:"mb-6",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx(re,{children:"Critical Action Required"}),e.jsxs(le,{children:["You have ",g.length," time-sensitive insights that require immediate attention."]})]})]})]}),e.jsx("div",{className:"space-y-4",children:u.map((l,S)=>e.jsxs(o,{className:`border-l-4 ${Ce(l.urgency)}`,children:[e.jsx(b,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[we(l.insight_type),e.jsxs("div",{className:"flex-1",children:[e.jsxs(_,{className:"text-lg flex items-center space-x-2",children:[e.jsx("span",{children:l.title}),e.jsx(i,{variant:l.urgency==="critical"||l.urgency==="high"?"destructive":"secondary",className:"text-xs",children:l.urgency})]}),e.jsx(w,{className:"mt-1",children:l.description})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs(i,{variant:"outline",className:"text-xs",children:[l.confidence,"% confident"]}),l.predicted_value>0&&e.jsxs(i,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["Save $",l.predicted_value]})]})]})}),e.jsxs(h,{className:"pt-0",children:[l.expires_at&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Time remaining"}),e.jsxs("span",{children:[Math.ceil((new Date(l.expires_at).getTime()-Date.now())/(1e3*60*60*24))," days"]})]}),e.jsx(B,{value:Math.max(0,Math.min(100,(new Date(l.expires_at).getTime()-Date.now())/(14*24*60*60*1e3)*100)),className:"h-2"})]}),l.related_destinations.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Related Destinations:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.related_destinations.map((c,t)=>e.jsx(i,{variant:"outline",className:"text-xs capitalize",children:c},t))})]}),l.actionable_steps.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center space-x-1",children:[e.jsx(me,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Recommended Actions"})]}),e.jsx("div",{className:"space-y-2",children:l.actionable_steps.map((c,t)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white border rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-600 rounded-full text-xs font-semibold",children:c.step_number}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[Se(c.action_type),e.jsx("span",{className:"text-sm font-medium",children:c.action_text})]}),c.deadline&&e.jsxs(i,{variant:"outline",className:"text-xs",children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),new Date(c.deadline).toLocaleDateString()]})]}),e.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["💡 ",c.estimated_impact]})]})]},t))})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t",children:[e.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>j(a===l.insight_id?null:l.insight_id),className:"text-xs",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),a===l.insight_id?"Hide":"Show"," AI Reasoning"]}),a===l.insight_id&&e.jsx("div",{className:"mt-2 p-3 bg-gray-50 border rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:l.ai_reasoning})})]})]})]},l.insight_id))})]})},as=({currentJourney:s,optimizing:n,onOptimize:N})=>{const[a,j]=y.useState(["",""]),[u,g]=y.useState("balanced"),[f,I]=y.useState("comfort"),[l,S]=y.useState(14),[c,t]=y.useState("spring"),m=()=>{j([...a,""])},v=r=>{if(a.length>2){const x=a.filter((D,ee)=>ee!==r);j(x)}},T=(r,x)=>{const D=[...a];D[r]=x,j(D)},X=async()=>{const r=a.filter(x=>x.trim()!=="");if(r.length<2){alert("Please enter at least 2 destinations");return}await N(r,{optimize_for:u,travel_style:f,max_duration_days:l,preferred_season:c})},Q=r=>({cost:e.jsx(M,{className:"h-4 w-4 text-green-500"}),time:e.jsx(U,{className:"h-4 w-4 text-blue-500"}),weather:e.jsx(A,{className:"h-4 w-4 text-yellow-500"}),experience:e.jsx(C,{className:"h-4 w-4 text-purple-500"}),balanced:e.jsx(Y,{className:"h-4 w-4 text-indigo-500"})})[r]||e.jsx(C,{className:"h-4 w-4"}),J=r=>({flight:"✈️",train:"🚄",bus:"🚌",car:"🚗",ferry:"⛴️"})[r]||"🚗";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsxs(b,{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-6 w-6 text-blue-500"}),e.jsx("span",{children:"AI Journey Optimizer"})]}),e.jsx(w,{children:"Let our AI create the perfect multi-destination itinerary optimized for your preferences"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:"Destinations"})]}),a.map((r,x)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold",children:x+1}),e.jsx(V,{placeholder:`Destination ${x+1}`,value:r,onChange:D=>T(x,D.target.value),className:"flex-1"}),a.length>2&&e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>v(x),className:"text-red-500 hover:text-red-700",children:e.jsx(ne,{className:"h-4 w-4"})})]},x)),e.jsxs(p,{variant:"outline",size:"sm",onClick:m,className:"w-full",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Add Destination"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Optimization Goals"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Optimize For"}),e.jsxs(P,{value:u,onValueChange:r=>g(r),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(R,{children:[e.jsx(d,{value:"cost",children:"💰 Lowest Cost"}),e.jsx(d,{value:"time",children:"⏱️ Shortest Time"}),e.jsx(d,{value:"weather",children:"🌤️ Best Weather"}),e.jsx(d,{value:"experience",children:"✨ Best Experience"}),e.jsx(d,{value:"balanced",children:"⚖️ Balanced"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Travel Style"}),e.jsxs(P,{value:f,onValueChange:r=>I(r),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(R,{children:[e.jsx(d,{value:"budget",children:"🎒 Budget"}),e.jsx(d,{value:"comfort",children:"🏨 Comfort"}),e.jsx(d,{value:"luxury",children:"✨ Luxury"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Additional Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Duration (days)"}),e.jsx(V,{type:"number",value:l,onChange:r=>S(Number(r.target.value)),min:"1",max:"365"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Preferred Season"}),e.jsxs(P,{value:c,onValueChange:r=>t(r),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(R,{children:[e.jsx(d,{value:"spring",children:"🌸 Spring"}),e.jsx(d,{value:"summer",children:"☀️ Summer"}),e.jsx(d,{value:"fall",children:"🍂 Fall"}),e.jsx(d,{value:"winter",children:"❄️ Winter"})]})]})]})]})]})]}),e.jsx(p,{onClick:X,disabled:n||a.filter(r=>r.trim()).length<2,className:"w-full",size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-5 w-5 mr-2 animate-spin"}),"Optimizing Your Journey..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Optimize My Journey"]})})]})]}),s&&e.jsxs(o,{children:[e.jsxs(b,{children:[e.jsxs(_,{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-6 w-6 text-green-500"}),e.jsx("span",{children:"Optimized Journey"}),e.jsxs(i,{variant:"secondary",className:"text-lg",children:["Score: ",s.optimization_score,"/100"]})]}),e.jsxs(w,{children:["Your AI-optimized ",s.total_duration_days,"-day journey across ",s.selected_destinations.length," destinations"]})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(M,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Total Cost"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",s.total_estimated_cost]})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(A,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Duration"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[s.total_duration_days," days"]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-800",children:"Distance"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[s.optimized_route.total_distance_km," km"]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ue,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium text-orange-800",children:"Carbon"})]}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[s.optimized_route.carbon_footprint_kg," kg"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center space-x-2",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:"Optimized Route"})]}),s.optimized_route.route_segments.map((r,x)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl",children:J(r.travel_method)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:r.from_destination_id}),e.jsx(K,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium capitalize",children:r.to_destination_id})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Distance:"})," ",r.distance_km," km"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Duration:"})," ",r.duration_hours,"h"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cost:"})," $",r.estimated_cost]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CO2:"})," ",r.carbon_footprint_kg," kg"]})]})]})]},x))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Optimization Factors"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.optimization_factors.map((r,x)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 border rounded-lg",children:[Q(r.factor_type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium capitalize",children:r.factor_type}),e.jsx(i,{variant:r.user_specified?"default":"outline",className:"text-xs",children:r.user_specified?"User Specified":"AI Optimized"})]}),e.jsx(B,{value:r.weight*100,className:"h-2"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Weight: ",Math.round(r.weight*100),"%"]})]})]},x))})]})]})]})]})};export{es as I,as as J,ss as P,Je as T};
