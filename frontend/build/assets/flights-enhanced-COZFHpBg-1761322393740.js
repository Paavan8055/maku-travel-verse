import{k as U,b as W,r as a,j as e,a as x,d as n,B as h}from"./index-QutO-VLO-1761322393739.js";import{N as G}from"./Navbar-sUoKjaAm-1761322393740.js";import{I as p}from"./input-C5S5cz4X-1761322393740.js";import{S as N,a as v,b as y,c as S,d as i}from"./select-yLbDsiL6-1761322393740.js";import{a as X}from"./advancedSearchApi-D4SoNuu3-1761322393740.js";import{g as Z}from"./aiPersonalizationApi-BNhYer4L-1761322393740.js";import{c as ee}from"./realtimeApi-C8H1sq_R-1761322393740.js";import{T as F}from"./test-tube-diagonal-Lm5c2RED-1761322393740.js";import{P as w}from"./plane-dkWtRnaY-1761322393740.js";import{M as se}from"./map-pin-BMZYG5yD-1761322393740.js";import{S as ae}from"./search-Ub3i-kiC-1761322393740.js";import{S as te}from"./sparkles-24u9ujcM-1761322393740.js";import{F as re}from"./filter-COraHA4q-1761322393740.js";import{C as le}from"./circle-alert-CJQDH2Bq-1761322393740.js";import{S as ie}from"./star-2GpWtPWW-1761322393740.js";import{A as ne}from"./arrow-right-B3dZDzJj-1761322393740.js";import"./useApiHealth-BZmdyNku-1761322393740.js";import"./avatar-CWsG7dL0-1761322393740.js";import"./index-Di4DtyQk-1761322393740.js";import"./globe-DkUNS_mi-1761322393740.js";import"./useHealthMonitor-BTWS2hlD-1761322393740.js";import"./useAIIntelligence-GJCRPvhT-1761322393740.js";import"./chevron-down-BPmzUCOm-1761322393740.js";import"./brain-CBiLKOJK-1761322393740.js";import"./calendar-BX8RODid-1761322393740.js";import"./zap-DS9qfEMl-1761322393740.js";import"./users-D6D3-b2U-1761322393740.js";import"./settings-B5tdOP0H-1761322393740.js";import"./shield-Hc90wAWG-1761322393740.js";import"./user-BxGtIhmk-1761322393740.js";import"./index-BdQq_4o_-1761322393740.js";import"./index-C_LGjlf5-1761322393740.js";import"./index-8DBfw8dd-1761322393740.js";const Ye=()=>{const[l]=U(),R=W(),[c,I]=a.useState("round-trip"),[u,T]=a.useState(l.get("origin")||""),[g,E]=a.useState(l.get("destination")||""),[o,B]=a.useState(l.get("departureDate")||""),[A,L]=a.useState(l.get("returnDate")||""),[j,$]=a.useState({adults:parseInt(l.get("adults")||"1"),children:parseInt(l.get("children")||"0"),infants:parseInt(l.get("infants")||"0")}),[C,V]=a.useState(l.get("cabinClass")||"economy"),[d,M]=a.useState([]),[b,_]=a.useState(!1),[f,m]=a.useState(null),[r,P]=a.useState({maxStops:null,priceRange:{min:0,max:1e4},preferredAirlines:[],departureTimeRange:null}),[k,Y]=a.useState("price"),[z,O]=a.useState(null),q=[{name:"Sabre",badge:"🧪 Test API",color:"blue"},{name:"Duffle",badge:"🧪 Sandbox",color:"purple"},{name:"Amadeus",badge:"🧪 Development",color:"green"},{name:"Expedia",badge:"🧪 Sandbox",color:"orange"}];a.useEffect(()=>{H()},[]);const H=async()=>{try{const s=await Z({user_id:"guest",search_context:{type:"flight"}});O(s)}catch(s){console.error("AI suggestions failed:",s)}},J=async()=>{var s;if(!u||!g||!o){m("Please fill in all required fields");return}_(!0),m(null);try{const t=await X({search_type:c,origin:u,destination:g,departure_date:o,return_date:c==="round-trip"?A:void 0,passengers:j,cabin_class:C,price_range:r.priceRange,max_stops:(s=r.maxStops)!=null?s:void 0,preferred_airlines:r.preferredAirlines,sort_by:k,sort_order:"asc",page:1,per_page:20});t.success?M(t.results):m("No flights found. Please try different search criteria.")}catch(t){console.error("Flight search error:",t),m("Search failed. Please try again.")}finally{_(!1)}},K=async s=>{try{await ee({user_id:"guest",search_criteria:{type:"flight",destination:s.destination,dates:{departure:o}},target_price:s.price*.9,currency:s.currency}),alert("Price alert created! We'll notify you of better deals.")}catch(t){console.error("Price alert failed:",t)}},Q=s=>({Emirates:"🇦🇪","Singapore Airlines":"🇸🇬",Lufthansa:"🇩🇪","Qatar Airways":"🇶🇦",United:"🇺🇸",Delta:"🇺🇸",American:"🇺🇸"})[s]||"✈️";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(G,{}),e.jsx("section",{className:"bg-gradient-to-br from-blue-600 via-cyan-600 to-blue-700 pt-24 pb-12 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:e.jsxs(x,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Real Provider Test Data"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Find Your Perfect Flight"}),e.jsx("p",{className:"text-xl text-white/90",children:"Compare flights from Sabre, Duffle, Amadeus & Expedia"})]}),e.jsxs(n,{className:"p-6 shadow-2xl",children:[e.jsx("div",{className:"flex gap-2 mb-6",children:["one-way","round-trip","multi-city"].map(s=>e.jsx(h,{variant:c===s?"default":"outline",onClick:()=>I(s),className:"capitalize",children:s},s))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"From"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(p,{placeholder:"NYC, JFK, New York",value:u,onChange:s=>T(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"To"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(p,{placeholder:"LON, LHR, London",value:g,onChange:s=>E(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Departure"}),e.jsx(p,{type:"date",value:o,onChange:s=>B(s.target.value)})]}),c==="round-trip"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Return"}),e.jsx(p,{type:"date",value:A,onChange:s=>L(s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Passengers"}),e.jsxs(N,{value:j.adults.toString(),onValueChange:s=>$({...j,adults:parseInt(s)}),children:[e.jsx(v,{children:e.jsx(y,{})}),e.jsx(S,{children:[1,2,3,4,5,6].map(s=>e.jsxs(i,{value:s.toString(),children:[s," Adult",s>1?"s":""]},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Class"}),e.jsxs(N,{value:C,onValueChange:V,children:[e.jsx(v,{children:e.jsx(y,{})}),e.jsxs(S,{children:[e.jsx(i,{value:"economy",children:"Economy"}),e.jsx(i,{value:"premium_economy",children:"Premium Economy"}),e.jsx(i,{value:"business",children:"Business"}),e.jsx(i,{value:"first",children:"First Class"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(h,{onClick:J,disabled:b,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:b?e.jsx(e.Fragment,{children:"Searching..."}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Search Flights"]})})})]}),z&&e.jsxs("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(te,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"AI Suggestion"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"Based on your preferences, try searching flexible dates (±3 days) for up to 30% savings!"})]})]})]})}),e.jsx("section",{className:"py-12 px-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:e.jsxs(n,{className:"p-6 sticky top-6",children:[e.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5"}),"Filters"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Stops"}),e.jsx("div",{className:"space-y-2",children:[{value:0,label:"Nonstop"},{value:1,label:"1 Stop"},{value:2,label:"2+ Stops"}].map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"stops",checked:r.maxStops===s.value,onChange:()=>P({...r,maxStops:s.value})}),e.jsx("span",{className:"text-sm",children:s.label})]},s.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:r.priceRange.max,onChange:s=>P({...r,priceRange:{...r.priceRange,max:parseInt(s.target.value)}}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"$0"}),e.jsxs("span",{children:["$",r.priceRange.max]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Sort By"}),e.jsxs(N,{value:k,onValueChange:s=>Y(s),children:[e.jsx(v,{children:e.jsx(y,{})}),e.jsxs(S,{children:[e.jsx(i,{value:"price",children:"Best Price"}),e.jsx(i,{value:"duration",children:"Shortest"}),e.jsx(i,{value:"departure_time",children:"Departure Time"})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[f&&e.jsx(n,{className:"p-6 mb-6 border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{children:f})]})}),d.length>0&&e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:[d.length," flights found"]}),e.jsx("div",{className:"flex gap-2",children:q.map(s=>e.jsx(x,{variant:"outline",className:"text-xs",children:s.badge},s.name))})]}),e.jsx("div",{className:"space-y-4",children:d.map(s=>{var t,D;return e.jsxs(n,{className:"p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-2xl",children:Q(s.airline)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:s.airline}),e.jsx("p",{className:"text-sm text-gray-600",children:s.flight_number})]})]}),e.jsxs(x,{className:"bg-blue-600 text-white",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),s.provider]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:((t=s.departure_time.split("T")[1])==null?void 0:t.slice(0,5))||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.origin})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-px bg-gray-300 flex-1"}),e.jsx(w,{className:"w-4 h-4 text-gray-400"}),e.jsx("div",{className:"h-px bg-gray-300 flex-1"})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[Math.floor(s.duration_minutes/60),"h ",s.duration_minutes%60,"m"]}),e.jsx(x,{variant:"outline",className:"text-xs mt-1",children:s.stops===0?"Nonstop":`${s.stops} stop${s.stops>1?"s":""}`})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",children:((D=s.arrival_time.split("T")[1])==null?void 0:D.slice(0,5))||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.destination})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["$",s.price]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.seats_available," seats left"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>K(s),children:[e.jsx(ie,{className:"w-4 h-4 mr-1"}),"Alert"]}),e.jsxs(h,{onClick:()=>R(`/flights/review?flightId=${s.flight_id}`),className:"bg-gradient-to-r from-blue-600 to-cyan-600",children:["Select",e.jsx(ne,{className:"w-4 h-4 ml-2"})]})]})]})]},s.flight_id)})}),d.length===0&&!b&&!f&&e.jsxs(n,{className:"p-12 text-center",children:[e.jsx(w,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to find your flight?"}),e.jsx("p",{className:"text-gray-600",children:"Enter your travel details above and search across multiple providers"})]})]})]})})}),e.jsx("section",{className:"py-12 px-6 bg-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"About Flight Data"}),e.jsx("p",{className:"text-sm text-gray-700",children:"All flights shown are from real provider test/sandbox APIs (Sabre, Duffle, Amadeus, Expedia). Airlines, routes, and pricing reflect actual market data. As a pre-revenue startup, we're building authentic integrations that will go live at launch."})]})})]})};export{Ye as default};
