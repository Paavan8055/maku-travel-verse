import{r as h,h as W,j as e,d as c,f as i,g as o,e as d,B as p,L as N,a as m}from"./index-DlBCXUos-1761376354852.js";import{C as F,N as U,G as $}from"./Navbar-DI6fJkoQ-1761376354852.js";import{F as B}from"./Footer-Cv2v1xha-1761376354852.js";import{W as f}from"./wallet-eQRQtSNT-1761376354852.js";import{C as P}from"./circle-alert-DFltyKaT-1761376354852.js";import{E as S}from"./external-link-CSECX37b-1761376354852.js";import{C as I}from"./circle-check-big-C0_G-q_f-1761376354852.js";import{C as K}from"./copy-PkCV7O9N-1761376354852.js";import{A as g}from"./award-C0C_9sSC-1761376354852.js";import{T as R}from"./trending-up-BwBKPuiF-1761376354852.js";import{S as L}from"./shield-C6RiG96Z-1761376354852.js";import{Z as D}from"./zap-CHHh4SfC-1761376354852.js";import"./useApiHealth-Bh1TumGi-1761376354852.js";import"./avatar-R3dkf0DY-1761376354852.js";import"./index-DXgU_cv9-1761376354852.js";import"./globe-B2IAsVIG-1761376354852.js";import"./useHealthMonitor-CjsoAjzT-1761376354852.js";import"./useAIIntelligence-DmGMggBq-1761376354852.js";import"./plane-D38CmDBk-1761376354852.js";import"./map-pin-CeXuAAjT-1761376354852.js";import"./sparkles-CFEDxSzY-1761376354852.js";import"./chevron-down-9ULsEvcN-1761376354852.js";import"./brain-CCptSelB-1761376354852.js";import"./calendar-DogrcAi5-1761376354852.js";import"./users-DyysgK2H-1761376354852.js";import"./settings-Bg5PJjA6-1761376354852.js";import"./user-DLeFmRLS-1761376354852.js";import"./input-Y-VHmSob-1761376354852.js";import"./heart-D0mi5NJ3-1761376354852.js";import"./bot-B2JF79V4-1761376354852.js";import"./cpu-BAmN0he3-1761376354852.js";import"./map-CoM0f5EP-1761376354852.js";import"./play-DsaB8Typ-1761376354852.js";import"./book-open-sC4jDhBJ-1761376354852.js";import"./file-text-MDsll7wz-1761376354852.js";import"./mail-sNB1Jzbm-1761376354852.js";import"./twitter-j3B-yT-3-1761376354852.js";import"./send-DKjQhReQ-1761376354852.js";const G=()=>{const[l,b]=h.useState(!1),[w,y]=h.useState(!1),[a,k]=h.useState(null),[j,x]=h.useState(!1),{toast:r}=W(),v="http://localhost:8001",u=()=>typeof window<"u"&&typeof window.ethereum<"u",C=()=>{const s="0123456789abcdef";let t="0x";for(let n=0;n<40;n++)t+=s[Math.floor(Math.random()*s.length)];return t},T=async()=>{y(!0);try{let s;if(u())try{const t=await window.ethereum.request({method:"eth_requestAccounts"});if(!t||t.length===0)throw new Error("No accounts found");s=t[0];try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x13881"}]})}catch(n){n.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Polygon Mumbai Testnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com"],blockExplorerUrls:["https://mumbai.polygonscan.com"]}]})}}catch(t){console.log("MetaMask connection failed, using mock wallet:",t),s=C(),r({title:"Using Mock Wallet",description:"MetaMask connection failed. Using test wallet for demonstration."})}else s=C(),r({title:"Mock Wallet Connected",description:"Using test wallet for demonstration. Install MetaMask for real wallet."});await M(s),b(!0),r({title:"Wallet Connected!",description:`Connected to ${s.slice(0,6)}...${s.slice(-4)}`})}catch(s){console.error("Error connecting wallet:",s),r({title:"Connection Failed",description:s.message||"Failed to connect wallet",variant:"destructive"})}finally{y(!1)}},M=async s=>{x(!0);try{const t=await fetch(`${v}/api/blockchain/wallet/${s}`);if(!t.ok)throw new Error("Failed to fetch wallet data");const n=await t.json();k(n)}catch(t){console.error("Error fetching wallet data:",t),r({title:"Error",description:"Failed to fetch wallet data",variant:"destructive"})}finally{x(!1)}},_=async()=>{if(!a||a.pending_cashback<=0){r({title:"No Cashback",description:"You don't have any pending cashback to claim.",variant:"destructive"});return}x(!0);try{const s=await fetch(`${v}/api/blockchain/cashback/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_address:a.wallet.address})});if(!s.ok)throw new Error("Failed to claim cashback");const t=await s.json();r({title:"Cashback Claimed! ðŸŽ‰",description:`${t.amount_claimed} MAKU claimed successfully`}),await M(a.wallet.address)}catch(s){console.error("Error claiming cashback:",s),r({title:"Claim Failed",description:s.message||"Failed to claim cashback",variant:"destructive"})}finally{x(!1)}},A=()=>{a!=null&&a.wallet.address&&(navigator.clipboard.writeText(a.wallet.address),r({title:"Copied!",description:"Wallet address copied to clipboard"}))},E=()=>{b(!1),k(null),r({title:"Disconnected",description:"Wallet disconnected successfully"})};return l?e.jsxs(c,{className:"w-full",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-6 h-6 text-green-500"}),"Wallet Connected"]}),e.jsx(p,{variant:"outline",size:"sm",onClick:E,children:"Disconnect"})]})}),e.jsx(d,{className:"space-y-6",children:j&&!a?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(N,{className:"w-8 h-8 animate-spin text-orange-500"})}):a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("code",{className:"flex-1 px-3 py-2 bg-white rounded-lg text-sm font-mono",children:[a.wallet.address.slice(0,10),"...",a.wallet.address.slice(-8)]}),e.jsx(p,{variant:"outline",size:"sm",onClick:A,children:e.jsx(K,{className:"w-4 h-4"})})]}),a.wallet.mock_mode&&e.jsx(m,{variant:"outline",className:"text-xs",children:"ðŸŽ­ Mock Mode"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg border border-orange-200 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"MAKU Balance"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-orange-700",children:a.wallet.maku_balance.toFixed(2)}),e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:a.pending_cashback>0&&`+${a.pending_cashback.toFixed(2)} pending`})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(f,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"MATIC Balance"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-purple-700",children:a.wallet.matic_balance.toFixed(4)}),e.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Mumbai Testnet"})]})]}),a.pending_cashback>0&&e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"ðŸŽ‰ Pending Cashback Ready!"}),e.jsxs("p",{className:"text-3xl sm:text-4xl font-bold text-green-700",children:[a.pending_cashback.toFixed(2)," ",e.jsx("span",{className:"text-xl",children:"MAKU"})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Click to claim and add to your balance"})]}),e.jsx(p,{onClick:_,disabled:j,size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold px-8 py-6 text-base shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-5 h-5 mr-2 animate-spin"}),"Claiming..."]}):e.jsx(e.Fragment,{children:"Claim Now ðŸ’°"})})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Your NFT Memberships"}),e.jsxs(m,{variant:"outline",children:[a.nft_count," NFT",a.nft_count!==1?"s":""]})]}),a.nfts.length>0?e.jsx("div",{className:"space-y-2",children:a.nfts.map(s=>e.jsx("div",{className:"p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:`w-5 h-5 ${s.tier==="Platinum"?"text-purple-600":s.tier==="Gold"?"text-yellow-600":s.tier==="Silver"?"text-gray-500":"text-orange-600"}`}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.tier," Tier"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Token #",s.token_id]})]})]}),e.jsxs(m,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[s.cashback_rate,"% Cashback"]})]})},s.token_id))}):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No NFT memberships yet"}),e.jsx("p",{className:"text-xs mt-1",children:"Purchase or earn NFTs to get cashback rewards"})]})]}),e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Highest Cashback Rate:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[a.highest_cashback_rate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Network:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[a.wallet.network," (Chain ",a.wallet.chain_id,")"]})]})]})]})})]}):e.jsxs(c,{className:"w-full max-w-md mx-auto",children:[e.jsx(i,{children:e.jsxs(o,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(f,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-500"}),"Connect Your Wallet"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Connect your wallet to access MAKU token rewards, NFT memberships, and cashback features."}),!u()&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Optional: MetaMask"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"You can use a mock wallet for testing, or install MetaMask for real blockchain connection."}),e.jsxs("a",{href:"https://metamask.io/download/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-600 hover:text-orange-700 mt-2 inline-flex items-center gap-1 font-medium",children:["Download MetaMask ",e.jsx(S,{className:"w-3 h-3"})]})]})]})}),e.jsx(p,{onClick:T,disabled:w,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-6 text-base disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),u()?"Connect Wallet":"Use Mock Wallet"]})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"ðŸŽ­ Testing Mode: Using mock blockchain for demonstration"})})]})]})};function Te(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(U,{}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"MAKU Blockchain Rewards"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect your wallet to access MAKU token rewards, NFT memberships, and exclusive cashback benefits."}),e.jsx(m,{className:"mt-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:"ðŸŽ­ Mock Testing Mode - No Real Blockchain Needed"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"lg:col-span-1 order-1",children:e.jsx(G,{})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6 order-2",children:[e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-6 h-6 text-orange-500"}),"How MAKU Rewards Work"]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(R,{className:"w-5 h-5 text-orange-600"}),e.jsx("h3",{className:"font-semibold text-orange-900",children:"Earn Cashback"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:"Get 1-10% cashback in MAKU tokens on every travel booking based on your tier."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(g,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-900",children:"NFT Memberships"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"Own NFTs to unlock higher cashback rates and exclusive travel perks."})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-purple-900",children:"Secure & Transparent"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"All transactions recorded on Polygon blockchain for transparency and security."})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:"Instant Claims"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Claim your pending cashback anytime with just one click."})]})]})})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-6 h-6 text-orange-500"}),"NFT Membership Tiers"]})}),e.jsxs(d,{children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[{name:"Bronze",rate:"1%",price:"FREE",color:"orange"},{name:"Silver",rate:"3%",price:"$99",color:"gray"},{name:"Gold",rate:"6%",price:"$299",color:"yellow"},{name:"Platinum",rate:"10%",price:"$999",color:"purple"}].map(l=>e.jsx("div",{className:`p-4 rounded-lg border-2 ${l.color==="orange"?"border-orange-200 bg-orange-50":l.color==="gray"?"border-gray-300 bg-white":l.color==="yellow"?"border-yellow-300 bg-yellow-50":"border-purple-300 bg-purple-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:`w-8 h-8 mx-auto mb-2 ${l.color==="orange"?"text-orange-600":l.color==="gray"?"text-gray-500":l.color==="yellow"?"text-yellow-600":"text-purple-600"}`}),e.jsx("h3",{className:"font-bold text-gray-900",children:l.name}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 my-2",children:l.rate}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cashback Rate"}),e.jsx(m,{className:"mt-2",variant:"outline",children:l.price})]})},l.name))}),e.jsx("p",{className:"text-sm text-gray-600 mt-4 text-center",children:"ðŸ’¡ Earn higher tiers through bookings or purchase them directly"})]})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsx(o,{className:"text-lg",children:"Platinum Tier VIP Perks"})}),e.jsx(d,{children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),e.jsx("span",{children:"10% maximum cashback on all bookings"})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),e.jsx("span",{children:"Access to invitation-only exclusive stays"})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),e.jsx("span",{children:"Free Hugging Face LLM AI travel assistant"})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),e.jsx("span",{children:"Dedicated account manager"})]})]})})]})]})]})]}),e.jsx(B,{})]})}export{Te as default};
