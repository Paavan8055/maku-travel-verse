import{r as a,h as P,j as e,a as i,d as c,e as d,i as l,b as m,B as D,P as N,f as b}from"./index-Wtcm9pgK-1758868276509.js";import{S as o,a as x,b as u,c as h,d as t}from"./select-DnuuDDJM-1758868276509.js";import{T as _}from"./target-DN1XQ6z_-1758868276509.js";import{A as j}from"./activity-DFIfLWG3-1758868276509.js";import{Z as B}from"./zap-CHZWwLox-1758868276509.js";import{T as I}from"./trending-up-CPeo4J-5-1758868276509.js";import{U as q}from"./users-BmLsSDaw-1758868276509.js";import{C}from"./clock-jtH5mcP6-1758868276509.js";import{C as F}from"./circle-x-BQrGc2gp-1758868276509.js";import{C as V}from"./circle-check-big-Bf7sXaaD-1758868276509.js";import"./index-BdQq_4o_-1758868276509.js";import"./index-ByOOciCp-1758868276509.js";import"./chevron-down-qb-C9gLA-1758868276509.js";const Y=()=>{const[n,p]=a.useState(!1),[w,S]=a.useState("api_comprehensive"),[g,T]=a.useState("25"),[v,y]=a.useState("5"),{toast:f}=P(),U=async()=>{p(!0);try{await new Promise(s=>setTimeout(s,2e3)),f({title:"Load Test Started",description:`Testing ${g} concurrent users for ${v} minutes`})}catch(s){console.error("Load test error:",s),f({title:"Load Test Failed",description:"Failed to start load test",variant:"destructive"})}finally{p(!1)}},k=[{id:"1",test_name:"API Comprehensive Test",concurrent_users:25,duration_minutes:5,status:"completed",success_rate:99.2,avg_response_time:85,requests_per_second:150,peak_response_time:340,error_rate:.8,started_at:new Date().toISOString()}],A=s=>{switch(s){case"completed":return e.jsx(V,{className:"h-4 w-4 text-green-500"});case"running":return e.jsx(j,{className:"h-4 w-4 text-blue-500 animate-spin"});case"failed":return e.jsx(F,{className:"h-4 w-4 text-red-500"});default:return e.jsx(C,{className:"h-4 w-4 text-gray-500"})}},R=s=>{switch(s){case"completed":return"default";case"running":return"secondary";case"failed":return"destructive";default:return"outline"}},L=(s,r)=>r>=99&&s<100?"A+":r>=95&&s<250?"A":r>=90&&s<500?"B":r>=80&&s<1e3?"C":"F";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(i,{className:"lg:col-span-1",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Load Test Configuration"]}),e.jsx(l,{children:"Configure and execute load tests"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Test Type"}),e.jsxs(o,{value:w,onValueChange:S,children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(h,{children:[e.jsx(t,{value:"api_comprehensive",children:"API Comprehensive"}),e.jsx(t,{value:"booking_flow",children:"Booking Flow"}),e.jsx(t,{value:"agent_system",children:"Agent System"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Concurrent Users"}),e.jsxs(o,{value:g,onValueChange:T,children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(h,{children:[e.jsx(t,{value:"10",children:"10 Users"}),e.jsx(t,{value:"25",children:"25 Users"}),e.jsx(t,{value:"50",children:"50 Users"}),e.jsx(t,{value:"100",children:"100 Users"}),e.jsx(t,{value:"250",children:"250 Users"}),e.jsx(t,{value:"500",children:"500 Users"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Duration (minutes)"}),e.jsxs(o,{value:v,onValueChange:y,children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(h,{children:[e.jsx(t,{value:"2",children:"2 minutes"}),e.jsx(t,{value:"5",children:"5 minutes"}),e.jsx(t,{value:"10",children:"10 minutes"}),e.jsx(t,{value:"15",children:"15 minutes"}),e.jsx(t,{value:"30",children:"30 minutes"})]})]})]}),e.jsxs(D,{onClick:U,disabled:n,className:"w-full",children:[n?e.jsx(j,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(B,{className:"h-4 w-4 mr-2"}),n?"Running Test...":"Start Load Test"]})]})]}),e.jsxs(i,{className:"lg:col-span-2",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Performance Metrics"]}),e.jsx(l,{children:"Real-time load testing performance"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[e.jsx(q,{className:"h-8 w-8 mx-auto mb-2 text-blue-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"25"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[e.jsx(C,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"85ms"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[e.jsx(j,{className:"h-8 w-8 mx-auto mb-2 text-purple-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"150"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Req/sec"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[e.jsx(_,{className:"h-8 w-8 mx-auto mb-2 text-orange-500"}),e.jsx("div",{className:"text-2xl font-bold",children:"99.2%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Response Time Distribution"}),e.jsx("span",{children:"85ms avg"})]}),e.jsx(N,{value:15,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Success Rate"}),e.jsx("span",{children:"99.2%"})]}),e.jsx(N,{value:99.2,className:"h-2"})]})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Load Test Results"}),e.jsx(l,{children:"Historical performance test results and analysis"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:k.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[A(s.status),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.test_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.concurrent_users," users â€¢ ",s.duration_minutes,"min"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:R(s.status),children:s.status}),e.jsxs(b,{variant:"outline",children:["Grade: ",L(s.avg_response_time,s.success_rate)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("div",{className:"font-medium",children:[s.success_rate,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Response:"}),e.jsxs("div",{className:"font-medium",children:[s.avg_response_time,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Peak Response:"}),e.jsxs("div",{className:"font-medium",children:[s.peak_response_time,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Throughput:"}),e.jsxs("div",{className:"font-medium",children:[s.requests_per_second," req/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Error Rate:"}),e.jsxs("div",{className:"font-medium",children:[s.error_rate,"%"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("div",{className:"flex justify-between text-sm text-muted-foreground",children:e.jsxs("span",{children:["Started: ",new Date(s.started_at).toLocaleString()]})})})]},s.id))})})]})]})};export{Y as LoadTestingDashboard};
